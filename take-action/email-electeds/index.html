<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>




    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-64BWDRHRGB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-64BWDRHRGB');
    </script>

    
    <meta name="robots" content="all" />

    





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Email your elected officials</title>




<meta name="description" content="Find your elected officials to advocate for healthier environments. ">
<link rel="canonical" href="/IndicatorPublic/take-action/email-electeds/" />
<meta name="geo.region" content="" />
<meta name="geo.placename" content="Environment &amp; Health Data Portal" />


<meta property="fb:profile_id" content="0" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_us" />
<meta property="og:url" content="/IndicatorPublic/take-action/email-electeds/" />
<meta property="og:title" content=" Email your elected officials &ndash; Environment &amp; Health Data Portal" />
<meta property="og:description" content=" Explore data on how environments shape health in New York City&#39;s neighborhoods." />
<meta property="og:site_name" content="Environment &amp; Health Data Portal" />
<meta property="og:image" content="/IndicatorPublic/images/report_bottom_background_hu55023dbc37de342337a21cf33dcc5889_222582_2400x1260_fill_q95_mitchellnetravali_smart1.jpg">
<meta property="og:see_also" content="https://twitter.com/nycHealthy" />
<meta name="twitter:title" content=" Email your elected officials &ndash; Environment &amp; Health Data Portal">
<meta name="twitter:description" content=" Explore data on how environments shape health in New York City&#39;s neighborhoods.">
<meta name="twitter:image" content=" /IndicatorPublic/images/report_bottom_background.jpg">
<meta name="twitter:site" content="@nycHealthy">
<meta name="twitter:creator" content="@nycHealthy">
    
    <link href="https://maps.nyc.gov/nyc-lib/v1.2.79/css/nyc-basic-lib.css" rel="stylesheet">



<script src="/IndicatorPublic/node_modules/jquery/dist/jquery.min.bf6089ed4698cb8270a8b0c8ad9508ff886a7a842278e98064d5c1790ca3a36d5d69d9f047ef196882554fc104da2c88eb5395f1ee8cf0f3f6ff8869408350fe.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR&#43;8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous"></script>




<link rel="icon" href=/IndicatorPublic/7618350_heatmap_business_analytics_statistics_icon-gpr.ico>

<link rel="stylesheet" href="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/css/all.min.css" />

<script src="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/js/all.min.eac49826a0eb7994591a42776fe61f7610773339ae3fd47b5f5419ea0e5a217851bd1d58fcdfcfe3b8e69e410d9bb60bde8aac988e802be57a003f7db960e723.js" integrity="sha512-6sSYJqDreZRZGkJ3b&#43;YfdhB3MzmuP9R7X1QZ6g5aIXhRvR1Y/N/P47jmnkENm7YL3oqsmI6AK&#43;V6AD99uWDnIw==" crossorigin="anonymous"></script>


<link rel="stylesheet" href="/IndicatorPublic/scss/theme.c0cd4c56ae670c7d914a525cd261098f672511910b35856c0d0aaee8d1ee8350c1734ef8846cf4ea0c3fdb21d30b75c848a6930d1438ba387ae9288f8e42da86.css" integrity="sha512-wM1MVq5nDH2RSlJc0mEJj2clEZELNYVsDQqu6NHug1DBc074hGz06gw/2yHTC3XISKaTDRQ4ujh66SiPjkLahg==" />

<script src="/IndicatorPublic/node_modules/dompurify/dist/purify.min.8c1d1391305e402f594a406a0e17667d3bf5a9d7db5a9184ef6c89ff4d52aeaea1133648cf6c64cf57b9ee9f5a8bb21e1ccc041bb1e9cc6e8d769b428627f93e.js" integrity="sha512-jB0TkTBeQC9ZSkBqDhdmfTv1qdfbWpGE72yJ/01Srq6hEzZIz2xkz1e57p9ai7IeHMwEG7HpzG6NdptChif5Pg=="></script>





<script>

    let baseURL = "/IndicatorPublic/"
    let data_repo = "https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/";
    let data_branch = "production";
    let hugoEnv = "prod_prod"

</script>


<meta 
        data-pagefind-meta="title:Email your elected officials | Take Action"
        class="d-none"
    >

  </head>



<body>

  
<a class="sr-only sr-only-focusable skip-menu" href="#skip-header-target">Skip Header</a>

<header id="global-header" role="banner">

    <div class="bg-black text-white" id="nyc-top-header">

        <div class="container-fluid wide">

            <div class="row py-1 align-items-center justify-content-between">

                <div class="col-auto">
                    <p class="d-none d-md-flex fs-md">
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            <strong>nyc.gov</strong>
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            Health
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="/IndicatorPublic/take-action/email-electeds/">
                        EH Data Portal
                        </a>
                    </p>
                </div>
                

                <div class="col-auto">

                    <ul class="extensible-list horizontal fs-md">
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/">
                                <strong>
                                    311
                                </strong>
                            </a>
                        </li>
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/home/search/index.page">
                                <strong>
                                    Search all NYC.gov
                                </strong>
                            </a>
                        </li>
                        <li>
                            <a href="https://www1.nyc.gov/" title="Go to nyc.gov">
                                <img class="d-block" src=/IndicatorPublic/images/nyc-bubble-logo.svg width="45" alt="NYC Logo">
                            </a>
                        </li>
                    </ul>

                </div>
                

            </div>
            

        </div>
        

    </div>
    
    <div class="site-header bg-primary" style='background-image: url(/IndicatorPublic/images/header_background.jpg)'>
        <div class="wrap-header">

            <div class="container-fluid wide">

                <div class="row align-items-center">

                    <div class="col-lg py-3">
                        <div class="d-flex justify-content-center justify-content-lg-start">
                            <a href="https://a816-dohbesp.nyc.gov/IndicatorPublic/"><img src="https://a816-dohbesp.nyc.gov/IndicatorPublic/7618350_heatmap_business_analytics_statistics_icon-gpr.ico" style="height: 67px" class="pr-1"></a>

                            <p class="text-white title-hover">
                                <span class="site-subtitle"><a href="https://a816-dohbesp.nyc.gov/IndicatorPublic/" class="link-no-dec">Environment & Health</span>
                                <span class="site-title">Data Portal</a></span>
                            </p>


                        </div>
                        
                    </div>
                    

                    <div class="col-lg-auto border-top border-lg-0 d-print-none">

                        <div class="d-lg-flex align-items-center">

                            

                            <ul class="extensible-list horizontal justify-content-between my-2 d-lg-none">
                                <li>
                                    <button class="navbar-toggler no-btn-style" type="button" title="Main Menu" data-toggle="collapse"
                                        data-target="#nav-primary" aria-controls="nav-primary" aria-expanded="false"
                                        aria-label="Toggle navigation">
                                        <span class="sr-only">Main Menu</span>
                                        <span class="fas fa-bars fa-lg text-white" ></span>
                                    </button>
                                </li>

                                <li>
                                    <a class="nav-link" href="#" type="button" data-toggle="modal" data-target="#searchModal" title="Search" data-toggle="collapse">
                                        <span class="sr-only">Search</span>
                                        <i class="fa fa-magnifying-glass text-white"></i>
                                    </a>
                                </li>
                            </ul>

                            <div class="collapse d-lg-block mx-n2 mx-lg-2" id="nav-primary">

                                <nav class="nav" role="navigation">

                                    <div class="nav-item bg-white text-primary border dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="nav-item-topic"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Topics
                                        </a>

                                        <div class="dropdown-menu wider-menu" aria-labelledby="nav-item-topic">
                                            <ul class="extensible-list p-0">
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/airquality/"> <li class="">Air quality</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/climatehealth/"> <li class="">Climate</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/housing/"> <li class="">Housing</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/social/"> <li class="">Inequality</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/transportation/"> <li class="">Public space</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/healthoutcomes/"> <li class="">Health outcomes</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/childhealth/"> <li class="">Child health</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/pests/"> <li class="">Pests and pesticides</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/foodanddrink/"> <li class="">Food and drink</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                    <a href=/IndicatorPublic/key-topics>All topics</a>

                                            </ul>
                                        </div>
                                    </div>
                                    

                                    <div class="nav-item bg-white text-primary border dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="nav-item-type"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Explore
                                        </a>

                                        <div class="dropdown-menu wider-menu" aria-labelledby="nav-item-type">
                                            <ul class="extensible-list p-0">

                                                <a href="/IndicatorPublic/data-stories/"><li><span class="mr-1"><span class='text-primary data-stories'><i class='fas fa-passport' aria-hidden='true'></i></span></span>Data Stories</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/data-features/"><li><span class="mr-1"><span class='df-accent'><i class='fas fa-chart-bar' aria-hidden='true'></i></span></span>Data Features</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/neighborhood-reports/"><li><span class="mr-1"><span class='text-primary n-reports'><i class='fas fa-map-marked-alt' aria-hidden='true'></i></span></span>Neighborhood Reports</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/data-explorer/"><li><span class="mr-1"><span class='text-primary data-explorer'><i class='fas fa-chart-line' aria-hidden='true'></i></span></span>Data Explorer</li></a></ul>
                                        </div>
                                    </div>
                                    

                                    <div class="nav-item bg-white text-primary border">
                                        <a class="nav-link " href="/IndicatorPublic/about/">
                                            About
                                        </a></div>
                                    

                                    

                                    <div class="nav-item bg-white text-primary border d-none d-lg-block">
                                        <a class="nav-link" href="#" type="button" data-toggle="modal" data-target="#searchModal" title="Search" data-toggle="collapse">
                                                    <span class="sr-only">Search</span>
                                                    <i class="fa fa-magnifying-glass text-body"></i>
                                                </a>
                                    </div>
                                    

                                </nav>

                            </div>

                        </div>
                        

                    </div>
                    

                </div>
                

            </div>
            

        </div>
        

        <div class="container-fluid border-top collapse" id="global-language">
            <div class="narrow py-2">
                <div id="google_translate_element"></div>
            </div>
        </div>


        </div>

</header>
<main id="skip-header-target" role="main" data-pagefind-body>
<script src="https://d3js.org/d3.v5.min.js"></script>

<article class="container-fluid overflow-hidden" id="primary-content">

  <div class="row mb-4">
    <div class="col-md-12 mx-auto">
      

      <nav aria-label="breadcrumb" class="my-2">
        <ul class="breadcrumb mr-auto">
            <li class="breadcrumb-item"><a href=/IndicatorPublic/>Home</a></li>
            <li class="breadcrumb-item"><a href="..">Take Action </a></li><li class="breadcrumb-item active">Email your elected officials</li>
        </ul>
    </nav>

      <div class="row border-bottom py-2">
        <div class="col-12">
          <h1>Email your elected officials</h1><p>This page will help you find your elected officials and their contact information, and help you write an email or give them a phone call.</p>
</div>
      </div>

      <div class="row mt-2">
        <div class="col-md-6 col-sm-12 mx-auto">
          <p>First, enter your address to get your elected officials and their contact information. <em>This page works for NYC addresses only.</em></p>


          
          <div class="srch input-group" role="search" autocomplete="off" id="searchHolder">
            <input class="rad-all form-control form-control-lg" placeholder="Search Address" id="map-search">
          </div>

          
          <div id='mapLocator' style="height:350px;"></div>
          <em>We won't store any information you enter on this page.</em>

          <div id="startOverHolder" class="mt-2"></div>


        </div>
      </div>

      <div class="row my-2 hide" id="repRow">
        <div class="col-md-12">
          <h2 class="fs-md" id="officials">Local officials</h2>
          <table id="localTable" class="table table-striped mb-4">
            <thead class="thead-light">
              <tr>
                <th>Office</th>
                <th>Name</th>
                <th>Website</th>
                <th>Office phone number</th>
                <th>Email address</th>
                <th class="hide">Email them?</th>
              </tr>
            </thead>
            <tbody id="localTableBody">
              <tr id="cmRow">
                <td>Council Member</td>
                <td><span id="cmName"></span></td>
                <td><span id="cmWebsite"></span></td>
                <td><span id="cmPhone"></span></td>
                <td><span id="cmEmail"></span></td>
                <td class="hide"><span id="cmEmailBox" class="text-align-right"><input type="checkbox" id="CMemail" name="emailCheckbox" value="cm" class="text-align-center" checked>
                  <label for="CMemail"></label></span></td>
              </tr>
              <tr id="bcRow">
                <td>Community Board</td>
                <td><span id="cbName"></span></td>
                <td><span id="cbWebsite"></span></td>
                <td><span id="cbPhone"></span></td>
                <td><span id="cbEmail"></span></td>
                <td class="hide"><span id="cbEmailBox" class="text-align-right"><input type="checkbox" id="CBemail" name="emailCheckbox" value="cb" class="text-align-center" checked>
                  <label for="CBemail"></label></span></td>
              </tr>
              <tr id="paRow">
                <td>Public Advocate</td>
                <td><span id="paName"></span></td>
                <td><span id="paWebsite"></span></td>
                <td><span id="paPhone"></span></td>
                <td><span id="paEmail"></span></td>
                <td class="hide"><span id="paEmailBox"><input type="checkbox" id="PAemail" name="emailCheckbox" value="pa" class="text-align-center" checked>
                  <label for="PAemail"></label></span></td>
              </tr>
              <tr id="bpRow">
                <td>Borough President</td>
                <td><span id="bpName"></span></td>
                <td><span id="bpWebsite"></span></td>
                <td><span id="bpPhone"></span></td>
                <td><span id="bpEmail"></span></td>
                <td class="hide"><span id="bpEmailBox"><input type="checkbox" id="BPemail" name="emailCheckbox" value="bp" class="text-align-center" checked>
                  <label for="BPemail"></label></span></td>
              </tr>
            </tbody>
          </table>

          <h2 class="fs-md">State officials</h2>
          <table id="stateTable" class="table table-striped mb-4">
            <thead class="thead-light">
              <tr>
                <th>Office</th>
                <th>Name</th>
                <th>Website</th>
                <th>Office phone number</th>
                <th>Email address</th>
                <th class="hide">Email them?</th>
              </tr>
            </thead>
            <tbody id="stateTableBody">
              <tr id="ssRow">
                <td>State Senator</td>
                <td><span id="ssName"></span></td>
                <td><span id="ssWebsite"></span></td>
                <td><span id="ssPhone"></span></td>
                <td><span id="ssEmail"></span></td>
                <td class="hide"><span id="ssEmailBox"><input type="checkbox" id="SSemail" name="emailCheckbox" value="ss" class="text-align-center" checked>
                  <label for="SSemail"></label></span></td>

              </tr>
              <tr id="saRow">
                <td>Assembly Member</td>
                <td><span id="saName"></span></td>
                <td><span id="saWebsite"></span></td>
                <td><span id="saPhone"></span></td>
                <td><span id="saEmail"></span></td>
                <td class="hide"><span id="saEmailBox"><input type="checkbox" id="SAemail" name="emailCheckbox" value="sa" class="text-align-center" checked>
                  <label for="SAemail"></label></span></td>
              </tr>
            </tbody>
          </table>

          <h2 class="fs-md">Congress</h2>
          <table id="congressTable" class="table table-striped mb-4">
            <thead class="thead-light">
              <tr>
                <th>Office</th>
                <th>Name</th>
                <th>Website</th>
                <th>Office phone number</th>
                <th>Email address</th>
                <th class="hide">Email them?</th>
              </tr>
            </thead>
            <tbody id="congressTableBody">
              <tr id="sen1Row">
                <td>Senator</td>
                <td><span id="sen1Name"></span></td>
                <td><span id="sen1Website"></span></td>
                <td><span id="sen1Phone"></span></td>
                <td><span id="sen1Email"></span></td>
                <td class="hide"><span id="sen1EmailBox"><input type="checkbox" id="sen1email" name="emailCheckbox" class="text-align-center" disabled>
                  <label for="sen1email"></label></span></td>

              </tr>
              <tr id="sen2Row">
                <td>Senator</td>
                <td><span id="sen2Name"></span></td>
                <td><span id="sen2Website"></span></td>
                <td><span id="sen2Phone"></span></td>
                <td><span id="sen2Email"></span></td>
                <td class="hide"><span id="sen2EmailBox"><input type="checkbox" id="sen2email" name="emailCheckbox" class="text-align-center" disabled>
                  <label for="sen2email"></label></span></td>
              </tr>

              <tr id="sen2Row">
                <td>Representative</td>
                <td><span id="repName"></span></td>
                <td><span id="repWebsite"></span></td>
                <td><span id="repPhone"></span></td>
                <td><span id="repEmail"></span></td>
                <td class="hide"><span id="repEmailBox"><input type="checkbox" id="repemail" name="emailCheckbox" class="text-align-center" disabled>
                  <label for="repmail"></label></span></td>
              </tr>
            </tbody>
          </table>


        </div>
      </div>


    <div class="row my-4 sr-only">
      <div class="col-md-4 mx-auto">

        <button class="btn btn-block btn-outline-primary glow py-2 sr-only" onclick="printEmails()" href="#tips">Click to write an email to your elected officials</button>

        <button class="btn btn-block btn-sm btn-outline-info" onclick="startOver()">Start over</button>

      </div>
    </div>

    <div class="row my-4 hide" id="contactContainer" data-pagefind-ignore="all">
      <div class="col-5 ml-auto">
        <h3 id="tips"><i class="fas fa-envelope-open-text mr-1"></i>Email tips</h3>
        <p>Here are some tips for writing an effective email, or script for a phone call.</p>
        <p><strong>Identify yourself as a constituent:</strong> tell them where you live and that they are your elected representative. For example: <em>"I live on Hunts Point Ave in the Bronx, in your district."</em></p>
        <p><strong>State your concerns.</strong> For example: <em>"Our neighborhood's rates of childhood asthma are among the highest in the city."</em></p>

        <p><strong>Tell your story:</strong> Offer some brief detail on how you see this environmental health issue affecting you and the people you know. For example: <em>"Last year, my daughter was diagnosed with asthma, and this issue is a challenge for our whole family."</em></p>

        <p><strong>Cite data:</strong> For example: <em>"According to data on housing conditions, 75% of renters' households in our neighborhood have maintenance problems that threaten health. (NYC Environment and Health Data Portal: https://a816-dohbesp.nyc.gov/IndicatorPublic/data-explorer/housing-maintenance/?id=2399#display=map)" </em></p>

        <p><strong>Make a request:</strong> You can ask them where they stand on the issue, what they're doing to improve it, or what services are available to help their constituents.</p>


      </div>

      <div class="col-md-5 mr-auto pt-3">
        <div class="p-3 my-2 grey-callout">
          <p><i class="fas fa-vote-yea mr-1"></i>You can contact elected officials whether or not you are registered to vote. If you're not: <br>
            <a class="btn btn-sm btn-block btn-outline-primary" href="https://voterreg.dmv.ny.gov/motorvoter/" target="_blank" rel="noreferrer noopener"><i class="fas fa-external-link-alt mr-1"></i>Register to vote</a></p>
        </div>

        <div class="p-3 my-2 grey-callout">
        <p><i class="fas fa-phone-square mr-1"></i><em>We can't find email addresses for some elected officials, but you can always call their offices to share your concerns, and use your email as a script when you speak to a staffer.</em></p>
        </div>

      </div>
    </div>

    <style>
      .glow {
        animation: glow 1s infinite alternate;
      }

      @keyframes glow {
        from {
          box-shadow: 0 0 5px -5px #008939;
        }
        to {
          box-shadow: 0 0 5px 5px #008939;
        }
      }
    </style>

    <div class="row my-4 hide" id="emailContainer" data-pagefind-ignore="all">
      <div class="col-md-6">
        <h3 id="tips">Email tips</h3>
        <p>In the box to the right, you can write an email to your elected officials. Here are some tips for writing an effective email/script.</p>
        <hr class="my-2">
        <p><strong>Identify yourself as a constituent:</strong> tell them where you live and that they are your elected representative. For example: <em>"I live on Hunts Point Ave in the Bronx, in your district."</em></p>
        <p><strong>State your concerns.</strong> For example: <em>"Our neighborhood's rates of childhood asthma are among the highest in the city."</em></p>

        <p><strong>Tell your story:</strong> Offer some brief detail on how you see this environmental health issue affecting you and the people you know. For example: <em>"Last year, my daughter was diagnosed with asthma, and this issue is a challenge for our whole family."</em></p>

        <p><strong>Cite data:</strong> For example: <em>"According to data on housing conditions, 75% of renters' households in our neighborhood have maintenance problems that threaten health. (NYC Environment and Health Data Portal: https://a816-dohbesp.nyc.gov/IndicatorPublic/data-explorer/housing-maintenance/?id=2399#display=map)" </em></p>

        <p><strong>Make a request:</strong> You can ask them where they stand on the issue, what they're doing to improve it, or what services are available to help their constituents.</p>
        <hr class="my-2">
        <em>We can't find email addresses for some elected officials, but you can always call their offices to share your concerns, and use your email as a script when you speak to a staffer.</em>
      </div>

      <div class="col-md-6">
        <label for="subject">Subject:</label>
        <textarea id="subject" style="width:100%" spellcheck="true">A constituent with concerns.</textarea>
        <br>

        <label for="textEntry">Write your email:</label>
          <textarea id="textEntry" name="textEntry" style="width:100%;height:300px" spellcheck="true">Write your email here.
          </textarea>
          <br>
          <p class="fs-sm">Choose recipient. Personalize the email - it will send to one person at a time. </p>
          <div id="allEmails"></div>

          <a href="" target="_blank" class="btn btn-block btn-primary glow" id="sendButton">Send email!</a>
          <em class="fs-sm">This will open the email in your email client for you to send from your email address.</em>


      </div>



    </div>

    <div class="row my-4 hide" id="register">
      <div class="col p-3 mx-4 sr-only" style="background-color: #f1f1f1; border-left: 2px solid darkgray;">
        <p>You can contact these elected officials whether you are registered to vote, or not. If you're not, <a href="https://voterreg.dmv.ny.gov/motorvoter/">click here to register to vote</a>.</a></p>
      </div>
    </div>

    </div>
    
  </div>

</article>

<script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"></script>
<script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.4.0/papaparse.min.js"></script>
<script src="https://maps.nyc.gov/nyc-lib/v1.2.79/js/babel-polyfill.js"></script>
<script src="https://maps.nyc.gov/nyc-lib/v1.2.79/js/nyc-ol-lib.js"></script>

<script>



var councilTable = [];
var district;
var yourDistrict;
var cbTable = [];
var cbInfo = [];
var yourCB;
var districtInfo;
var lastname;
var setLoc;
var peopleToEmail = [];
var rowCM;
var apiData = {};
var rootRequest = 'https://content-civicinfo.googleapis.com/civicinfo/v2/representatives?key=AIzaSyBEi5U-9-QQevrhUxhmGDEg4CvvbtpLehU&address='
var boroPres = {};
var publicAdvocate = {};
var stateReps = {}
var congressReps = {}




const checkNested = function(obj, args) {
  for (var i = 0; i < args.length; i++) {
    if (!obj || !obj.hasOwnProperty(args[i])) {
      return false;
    }
    obj = obj[args[i]];
  }
  return true;
}


const waitForGlobal = function(keyPath, callback) {
  var args = keyPath.split('.');
  
  if (checkNested(window, args)) {
    callback();
  } else {
    setTimeout(function() {
      
      waitForGlobal(keyPath, callback);
    }, 100);
  }
}


var map;
function drawMap() {
  document.getElementById('mapLocator').innerHTML = ''
  document.getElementById('searchHolder').innerHTML = `<input class="rad-all form-control form-control-lg" placeholder="Search Address" id="map-search">
  `

  map = new nyc.ol.FrameworkMap({
    mapTarget: '#mapLocator',
    searchTarget: '#map-search',
    
    
    geoclientUrl: 'https://maps.nyc.gov/geoclient/v1/search.json?app_key=74DF5DB1D7320A9A2&app_id=nyc-lib-example'
    
    
    });
}

drawMap()

function startOver() {
  location.reload()
}


d3.csv("/IndicatorPublic/take-action/council.csv").then(function(data) {
  councilTable = data;
})


d3.csv("/IndicatorPublic/take-action/communityBoardContacts.csv").then(function(data) {
  cbTable = data
})


document.getElementById('map-search').addEventListener("change", getData)




async function getData() {

  console.log("** getData");

  document.getElementById('startOverHolder').innerHTML = `<button class="btn btn-block btn-sm btn-outline-info" onclick="startOver()">Start over</button>`
  document.getElementById('repRow').classList.remove('hide')
  document.getElementById('officials').scrollIntoView({behavior: "smooth", block: "start"})
  

  
  

  

  waitForGlobal("map.location.name", function() {

    setLoc = map.location.name

    

    yourDistrict = map.location.data.cityCouncilDistrict
    yourCB = map.location.data.communityDistrict
    
    

    
    getFromAPI(setLoc)

    
    for (let i = 0; i < councilTable.length; i ++) {
      if (Number(councilTable[i].District) === Number(yourDistrict)) {
        districtInfo = councilTable[i]
      } else {}
    }

    
    document.getElementById('cmName').innerHTML = districtInfo.CouncilMember
    document.getElementById('cmWebsite').innerHTML = `<a href="https://council.nyc.gov/district-${districtInfo.District}">Website</a>`
    document.getElementById('cmPhone').innerHTML = 'n/a'
    document.getElementById('cmEmail').innerHTML = `<a href="mailto:${districtInfo.Email}">${districtInfo.Email}</a>`

    
    for (let i = 0; i < cbTable.length; i ++) {
      if (Number(cbTable[i].bbc) === Number(yourCB)) {
        cbInfo = cbTable[i]
      } else {}
    }

    
    document.getElementById('cbName').innerHTML = cbInfo.Borough + " CB" + cbInfo.CB
    document.getElementById('cbWebsite').innerHTML =  `<a href="${cbInfo.Website}">Website</a>`
    document.getElementById('cbPhone').innerHTML = cbInfo.Phone
    document.getElementById('cbEmail').innerHTML = `<a href="mailto:${cbInfo.Email}">${cbInfo.Email}</a>`

    var recipient = {};
    recipient.name = districtInfo.CouncilMember
    recipient.area = 'District ' + districtInfo.District
    recipient.email = `<a href="mailto:${districtInfo.Email}">${districtInfo.Email}</a>`
    peopleToEmail.push(recipient)

  });
}






function getFromAPI(address) {
  
  fetch(rootRequest+address+'&levels=administrativeArea2&roles=headofGovernment')
    .then (res => res.json())
    .then(data => {
      boroPres = data
      
      printInfoFromApi('bp', boroPres.officials[0])
    })

  
  fetch(rootRequest+address+'&levels=locality&roles=governmentOfficer')
  .then (res => res.json())
  .then(data => {
    publicAdvocate = data
    
    printInfoFromApi('pa', publicAdvocate.officials[1])

  })

  
  fetch(rootRequest+address+'&levels=administrativeArea1&roles=legislatorUpperBody&roles=legislatorLowerBody')
  .then (res => res.json())
  .then(data => {
    stateReps = data;
    
    printInfoFromApi('ss', stateReps.officials[0]);
    printInfoFromApi('sa', stateReps.officials[1]);
  })

  
  fetch(rootRequest+address+'&levels=country&roles=legislatorUpperBody&roles=legislatorLowerBody')
  .then (res => res.json())
  .then(data => {
    congressReps = data;
    
    printInfoFromApi('sen1',congressReps.officials[0])
    printInfoFromApi('sen2',congressReps.officials[1])
    printInfoFromApi('rep',congressReps.officials[2])
  })


  
  document.getElementById('contactContainer').classList.remove('hide')
  document.getElementById('register').classList.remove('hide')


}



function printInfoFromApi(prefix, info) {

  
  

  document.getElementById(prefix+"Name").innerHTML = info.name
  document.getElementById(prefix+"Website").innerHTML = `<a href="${info.urls[0]}">Website</a>`
  document.getElementById(prefix+"Phone").innerHTML = info.phones[0]

  if (info.emails) {
    document.getElementById(prefix+"Email").innerHTML = `<a href="mailto:${info.emails[0]}">${info.emails[0]}</a>`
  } else {
    document.getElementById(prefix+"Email").innerHTML = `<em>No email address found</em>`
  }
}

var checkboxes;

function printEmails() {
  document.getElementById('emailContainer').classList.remove('hide')
  document.getElementById('emailContainer').scrollIntoView({behavior: "smooth", block: "start"})

  checkboxes = document.getElementsByName('emailCheckbox')

  for (let i = 0; i < checkboxes.length; i ++) {

    
    if (checkboxes[i].checked) {
      
      var prefix = checkboxes[i].value[0]+checkboxes[i].value[1]

      
      var name = document.getElementById(prefix+'Name').innerHTML
      var emailAddress = document.getElementById(prefix+'Email').innerHTML

      var newButton = `<button class="btn btn-sm btn-outline-secondary mr-1 mb-1 emailButton" value="${emailAddress}">${name}</button>`
      document.getElementById('allEmails').innerHTML += newButton
    } else {}
  }

    
    var buttons = document.getElementsByClassName('emailButton')
    

    
    for (let x = 0; x < buttons.length; x ++) {
      buttons[x].addEventListener("click", function() {
        for (let y = 0; y < buttons.length; y ++) {
          buttons[y].classList.remove('active')
        }
        this.classList.add('active')

        
        var subject = document.getElementById('subject').value
        var body = document.getElementById('textEntry').value
        var destination = this.value

        
        document.getElementById('sendButton').href = `mailto:`+ destination + `?subject=` + `${subject}` + `&body=` + `${body}`

      })
    }

}

function sendEmail(x) {
  console.log('emailed to: ' + x)
}

</script><ul id="results"></ul>
  </main>
  
  <footer class="bg-black" id="global-footer" role="contentinfo">

  <h2 class="sr-only">
      Page Footer
  </h2>

  <div class="bg-opacity-black-25 text-white" id="nyc-footer">

      <div class="container py-3 d-none" id="languages">

          <div class="row fs-md d-print-none">

              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
                  </ul>
              </div>
          </div>

      </div>
      

      <div class="container py-3 d-print-none" id="languages">

          <ul class="fs-md" role="list">
              <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
          </ul>

      </div>
      

      <hr class="opacity-10" aria-hidden="true">

      <div class="container py-3">
          <div class="row">
              <div class="col-md-6 col-lg-8 mb-3 mb-lg-0">
                  <nav class="row fs-md d-print-none" role="navigation">
                      <div class="col-lg mb-3 mb-lg-0">
                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/nyc-resources/agencies.page">
                                      <strong>Directory of City Agencies</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a858-nycnotify.nyc.gov/notifynyc/">
                                      <strong>Notify NYC</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/connect/mobile-applications.page">
                                      <strong>NYC Mobile Apps</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/home/contact-us.page">
                                      <strong>Contact NYC Government</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a856-citystore.nyc.gov/">
                                      <strong>CityStore</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www.nyc.gov/nyc-resources/nyc-maps.page">
                                      <strong>Maps</strong>
                                  </a>
                              </li>
                          </ul>

                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset"
                                      href="https://a127-ess.nyc.gov/psp/prdess/?cmd=login&languageCd=ENG&">
                                      <strong>City Employees</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/connect/social-media.page">
                                      <strong>Stay Connected</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/nyc-resources/resident-toolkit.page">
                                      <strong>Resident Toolkit</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                  </nav>
              </div>
              

              <div class="col-md-6 col-lg-4">

                  <a class="mb-2" href="https://www1.nyc.gov" title="Go to nyc.gov" target="_blank" rel="noopener noreferrer">
                      
                      <img class="mb-2" src="/IndicatorPublic/images/nyc-bubble-logo.svg" width="90" alt="NYC Logo">
                      <span class="sr-only">(opens in a new tab)</span>
                  </a>
                  <p class="fs-sm">© City of New York. 2022 All Rights Reserved,<br>NYC is a trademark and service mark of the City of New
                    York.</p>

                  <ul class="extensible-list horizontal fs-sm d-print-none">
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/privacy-policy.page">Privacy
                              Policy</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/terms-of-use.page">Terms
                              of Use</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/site/mopd/index.page"
                              title="Mayor's Office for People with Disabilities">
                              <span class="sr-only">Learn more about Digital Accessibility
                                from the Mayor's Office for People with Disabilities.</span>
                              <span class="fab fa-lg fa-accessible-icon"></span>
                          </a>
                      </li>
                  </ul>

              </div>
              

          </div>
          

      </div>
      

  </div>
  

</footer>


<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="searchModalLabel" data-pagefind-ignore="all">Search</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <link href=/IndicatorPublic/pagefind/pagefind-ui.css rel="stylesheet">
            <script src=/IndicatorPublic/pagefind/pagefind-ui.js type="text/javascript"></script>
            <div id="search"></div>
            <script>

                window.addEventListener('DOMContentLoaded', (event) => {

                    new PagefindUI({
                        element: "#search",
                        showSubResults: true,
                        showImages: false,
                        baseUrl: baseURL,
                        showEmptyFilters: true,
                        debounceTimeoutMs: 500,
                        
                        processTerm: function (term) {

                            gtag('event', 'search', {
                                search_term: term
                            });

                            return term;

                        },
                        processResult: function (result) {

                            
                            
                            

                            

                            result.meta.title = result.meta.title
                                .replace(/&#(\d+);/g, ((match, dec) => `${String.fromCharCode(dec)}`))
                                .replaceAll("&amp;", "&");

                            

                            result.sub_results.forEach(sub => {

                                

                                sub.url = sub.url.replace("#IndicatorID-", "?id=");

                                

                                sub.title = sub.title
                                    .replace(/&#(\d+);/g, ((match, dec) => `${String.fromCharCode(dec)}`))
                                    .replaceAll("&amp;", "&");

                            });

                            
                            
                            

                            
                            var allResults = document.getElementsByClassName('pagefind-ui__result-link');

                            
                            for (h = 0; h < allResults.length; h += 1) {

                                allResults[h].setAttribute('onclick',"gtag('event', 'search_click', { page_viewed: '" + allResults[h].href + "' });");

                            }

                            

                            console.log("@ result:", result);
                            

                        }
                    });

                    

                    

                    const searchModal = document.getElementById('searchModal')
                    const searchInput = document.getElementsByClassName('pagefind-ui__search-input')[0]

                    $(searchModal).on('shown.bs.modal', () => {
                        searchInput.focus();
                        searchInput.select();
                    })


                });


            </script>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>

<script>


</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>


<script>
  function googleTranslateElementInit() {
      new google.translate.TranslateElement({
          pageLanguage: 'en'
      }, 'google_translate_element');

      
      document.querySelectorAll("div[class^=VI] svg").forEach(e => e.outerHTML = "");
  }
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script type="text/javascript" src="/IndicatorPublic/node_modules/lunr/lunr.min.e31525fdde83e931eb0275c0c066a35e4a1669e30dc0428ae2235fab90e8b446cb3c07e4e854b148fdf274dc6a0e00b0d5cff4675260e8bf21da3fbefbd0599a.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j&#43;&#43;&#43;9BZmg=="></script>

<script type="text/javascript" 
    src="/IndicatorPublic/js/main.552c9e0eb5b9f567a863809d88dfdb9dfc2e5062f1aa7ae313abbdf21a346fd773ae265f5ff618d8322e2b96b95be1b319c681eb0ea7b818a3c6485a84b6ad5a.js" 
    integrity="sha512-VSyeDrW59WeoY4CdiN/bnfwuUGLxqnrjE6u98ho0b9dzriZfX/YY2DIuK5a5W&#43;GzGcaB6w6nuBijxkhahLatWg=="></script>

<script type="text/javascript" 
    src="/IndicatorPublic/js/search.5332590626a6aa935d122347c2c99089e9a328a8e08882b46a430570150c8d2f238b3758b581c006ee488c927a70aac5a8f53761d32d922e08ad7172db6b3abf.js" 
    integrity="sha512-UzJZBiamqpNdEiNHwsmQiemjKKjgiIK0akMFcBUMjS8jizdYtYHABu5IjJJ6cKrFqPU3YdMtki4IrXFy22s6vw=="></script>
  
  
</body>
</html>
