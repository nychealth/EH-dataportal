<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Corrects IE Compatibility Mode -->
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>{{ block "title" . }}
    {{ if .Params.seo_title }}{{ .Params.seo_title }}{{ else }}{{ .Title }}{{ end }} &#x7c; {{ .Site.Title }}
{{ end }}</title>

{{/*  content translations  */}}

{{ if .IsTranslated }}
	{{ range .Translations }}
	<link rel="alternate" hreflang="{{ .Language.Lang }}" href="{{ .Permalink }}" title="{{ .Language.LanguageName }}">
	{{ end }}
{{ end }}

{{ partial "seo" . }}

<!-- jQuery (full, compressed version) -->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="/fontawesome/css/all.min.css">
{{ $sass := resources.Get "scss/theme.scss" }}
{{- $style := $sass | resources.ToCSS -}}
<link rel="stylesheet" href="{{ $style.Permalink }}" />

<!--Vega. To call, have vega: true in a page's frontmatter-->
{{- if .Params.vega -}}
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
{{- end -}}

<!--Other data libraries. To call, have datatables: true in a page's frontmatter-->
{{- if .Params.datatables -}}
    <!--D3-->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <!--DataTables CSS-->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.1.0/css/buttons.dataTables.min.css">

    <!--DataTables JS-->
    <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/rowgroup/1.1.4/js/dataTables.rowGroup.min.js"></script>
{{- end -}}

<!-- Arquero -->
{{- if .Params.arquero -}}
    <script src="https://cdn.jsdelivr.net/npm/arquero@latest"></script>
{{- end -}}

<!-- Leaflet -->
{{- if .Params.leaflet -}}

    <!-- leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />

    <!-- leaflet source -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>

    <!-- easybutton -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-easybutton@2/src/easy-button.js"></script>

    <!-- Leaflet.colorIcon -->
    <!-- https://github.com/shevekk/Leaflet.ColorIcon -->
    {{ $colorIcon := resources.Get "js/L.colorIcon.js" }} <!-- need to use Hugo Pipes to get file from assets dir -->
    <script src="{{ $colorIcon.Permalink }}"></script>
    

{{- end -}}

<!--Other data libraries. To call, have data: true in a page's frontmatter-->
{{- if .Params.datalibraries -}}
  <!--D3-->
  <script src="https://d3js.org/d3.v5.min.js"></script>

  <!--DataTables CSS-->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.1.0/css/buttons.dataTables.min.css">

  <!--DataTables JS-->
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.1.0/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.1.0/js/buttons.print.min.js"></script>
  <script src="https://cdn.datatables.net/rowgroup/1.1.4/js/dataTables.rowGroup.min.js"></script>

  <!--Arquero-->
  <script src="https://cdn.jsdelivr.net/npm/arquero@latest"></script>
{{- end -}}

<!-- Analytics placeholder -->
{{- if eq (getenv "HUGO_ENV") "production" -}} 
    <!--insert Analytics code here-->
{{- end -}} 