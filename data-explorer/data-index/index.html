<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>




    

    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-64BWDRHRGB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-64BWDRHRGB');
    </script>

    
    <meta name="robots" content="all" />

    





<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">



<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Index of Data on the Environment and Health Data Portal</title>




<meta name="description" content="An index of datasets on the Environment and Health Data Portal. ">
<link rel="canonical" href="/IndicatorPublic/data-explorer/data-index/" />
<meta name="geo.region" content="" />
<meta name="geo.placename" content="Environment &amp; Health Data Portal" />


<meta property="fb:profile_id" content="0" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_us" />
<meta property="og:url" content="/IndicatorPublic/data-explorer/data-index/" />
<meta property="og:title" content="Index of Data on the Environment and Health Data Portal  &ndash; Environment &amp; Health Data Portal" />
<meta property="og:description" content="Browse an index of datasets on the Environment and Health Data Portal. " />
<meta property="og:site_name" content="Environment &amp; Health Data Portal" />
<meta property="og:image" content="/IndicatorPublic/images/report_bottom_background_hu16697791334404483448.jpg">
<meta property="og:see_also" content="https://twitter.com/nycHealthy" />
<meta name="twitter:title" content="Index of Data on the Environment and Health Data Portal  &ndash; Environment &amp; Health Data Portal">
<meta name="twitter:description" content=" Browse an index of datasets on the Environment and Health Data Portal. ">
<meta name="twitter:image" content=" /IndicatorPublic/images/report_bottom_background.jpg">
<meta name="twitter:site" content="@nycHealthy">
<meta name="twitter:creator" content="@nycHealthy">



<script src="/IndicatorPublic/node_modules/jquery/dist/jquery.min.bf6089ed4698cb8270a8b0c8ad9508ff886a7a842278e98064d5c1790ca3a36d5d69d9f047ef196882554fc104da2c88eb5395f1ee8cf0f3f6ff8869408350fe.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR&#43;8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous"></script>




<link rel="icon" href=/IndicatorPublic/7618350_heatmap_business_analytics_statistics_icon-gpr.ico>

<link rel="stylesheet" href="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/css/all.min.css" />

<script src="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/js/all.min.eac49826a0eb7994591a42776fe61f7610773339ae3fd47b5f5419ea0e5a217851bd1d58fcdfcfe3b8e69e410d9bb60bde8aac988e802be57a003f7db960e723.js" integrity="sha512-6sSYJqDreZRZGkJ3b&#43;YfdhB3MzmuP9R7X1QZ6g5aIXhRvR1Y/N/P47jmnkENm7YL3oqsmI6AK&#43;V6AD99uWDnIw==" crossorigin="anonymous"></script>


<link rel="stylesheet" href="/IndicatorPublic/scss/theme.20f247c8f7f7683e8c698d51d9d3f64981b92004a11972d1a9d4e1ce999d8abda9954469cd9353c569b5d9bfb8805041d0e1a0921d9bec59b9f5a7a26eca4b29.css" integrity="sha512-IPJHyPf3aD6MaY1R2dP2SYG5IAShGXLRqdThzpmdir2plURpzZNTxWm12b&#43;4gFBB0OGgkh2b7Fm59aeibspLKQ==" />

<script src="/IndicatorPublic/node_modules/dompurify/dist/purify.min.8c1d1391305e402f594a406a0e17667d3bf5a9d7db5a9184ef6c89ff4d52aeaea1133648cf6c64cf57b9ee9f5a8bb21e1ccc041bb1e9cc6e8d769b428627f93e.js" integrity="sha512-jB0TkTBeQC9ZSkBqDhdmfTv1qdfbWpGE72yJ/01Srq6hEzZIz2xkz1e57p9ai7IeHMwEG7HpzG6NdptChif5Pg=="></script>







    <script src="/IndicatorPublic/node_modules/d3/dist/d3.min.bdce7caafbc176b0d1e1eb5bc4c7654ede06050935aa3bf23914769ebb0fb053f2aecfbfbb9737fb50adeaea4e81d668225edeaba9376b550f0d2340422ff7d8.js" integrity="sha512-vc58qvvBdrDR4etbxMdlTt4GBQk1qjvyORR2nrsPsFPyrs&#43;/u5c3&#43;1Ct6upOgdZoIl7eq6k3a1UPDSNAQi/32A=="></script>

    <link rel="stylesheet" href="/IndicatorPublic/css/dtCSS.css" >

    <script src="/IndicatorPublic/js/dataTableBundle.b33bd4feb2728e3113ec74f7bdb01640cbcf387d48d564e4984a3e9ed98dff27b3b6b878b56b6ef3a7ab180d4ff9a10ad993038be439a56ddb65488a45ba6506.js" integrity="sha512-szvU/rJyjjET7HT3vbAWQMvPOH1I1WTkmEo&#43;ntmN/yeztrh4tWtu86erGA1P&#43;aEK2ZMDi&#43;Q5pW3bZUiKRbplBg=="></script>


    <script src="/IndicatorPublic/node_modules/arquero/dist/arquero.min.f3307908843b4557565db58340f7176c2a5c0ed1da4c7238f3936ba108d75127624d641d48598fab3cef6b1059ba1aefeebc302c54aba43183560e5b34c266ba.js" integrity="sha512-8zB5CIQ7RVdWXbWDQPcXbCpcDtHaTHI485NroQjXUSdiTWQdSFmPqzzvaxBZuhrv7rwwLFSrpDGDVg5bNMJmug=="></script><meta data-pagefind-filter="section[content]" content="Data Explorer"><script>

    let baseURL = "/IndicatorPublic/"
    let data_repo = "https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/";
    let data_branch = "production";
    let hugoEnv = "prod_prod"

</script>


<meta 
        data-pagefind-meta="title:Data index | Data Explorer"
        class="d-none"
    >

  </head>



<body>

  
<a class="sr-only sr-only-focusable skip-menu" href="#skip-header-target">Skip Header</a>

<header id="global-header" role="banner">

    <div class="bg-black text-white" id="nyc-top-header">

        <div class="container-fluid wide">

            <div class="row py-1 align-items-center justify-content-between">

                <div class="col-auto">
                    <p class="d-none d-md-flex fs-md">
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            <strong>nyc.gov</strong>
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            Health
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="/IndicatorPublic/data-explorer/data-index/">
                        EH Data Portal
                        </a>
                    </p>
                </div>
                

                <div class="col-auto">

                    <ul class="extensible-list horizontal fs-md">
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/">
                                <strong>
                                    311
                                </strong>
                            </a>
                        </li>
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/home/search/index.page">
                                <strong>
                                    Search all NYC.gov
                                </strong>
                            </a>
                        </li>
                        <li>
                            <a href="https://www1.nyc.gov/" title="Go to nyc.gov">
                                <img class="d-block" src=/IndicatorPublic/images/nyc-bubble-logo.svg width="45" alt="NYC Logo">
                            </a>
                        </li>
                    </ul>

                </div>
                

            </div>
            

        </div>
        

    </div>
    
    <div class="site-header bg-primary" style='background-image: url(/IndicatorPublic/images/header_background.jpg)'>
        <div class="wrap-header">

            <div class="container-fluid wide">

                <div class="row align-items-center">

                    <div class="col-lg py-3">
                        <div class="d-flex justify-content-center justify-content-lg-start">
                            <a href=/IndicatorPublic/><img src=/IndicatorPublic/7618350_heatmap_business_analytics_statistics_icon-gpr.ico style="height: 67px" class="pr-1"></a>

                            <p class="text-white title-hover">
                                <span class="site-subtitle"><a href='/IndicatorPublic/' class="link-no-dec">Environment & Health</span>
                                <span class="site-title">Data Portal</a></span>
                            </p>


                        </div>
                        
                    </div>
                    

                    <div class="col-lg-auto border-top border-lg-0 d-print-none">

                        <div class="d-lg-flex align-items-center">

                            

                            <ul class="extensible-list horizontal justify-content-between my-2 d-lg-none">
                                <li>
                                    <button class="navbar-toggler no-btn-style" type="button" title="Main Menu" data-toggle="collapse"
                                        data-target="#nav-primary" aria-controls="nav-primary" aria-expanded="false"
                                        aria-label="Toggle navigation">
                                        <span class="sr-only">Main Menu</span>
                                        <span class="fas fa-bars fa-lg text-white" ></span>
                                    </button>
                                </li>

                                <li>
                                    <a class="nav-link" href="#" type="button" data-toggle="modal" data-target="#searchModal" title="Search" data-toggle="collapse">
                                        <span class="sr-only">Search</span>
                                        <i class="fa fa-magnifying-glass text-white"></i>
                                    </a>
                                </li>
                            </ul>

                            <div class="collapse d-lg-block mx-n2 mx-lg-2" id="nav-primary">

                                <nav class="nav" role="navigation">

                                    <div class="nav-item bg-white text-primary border dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="nav-item-topic"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Topics
                                        </a>

                                        <div class="dropdown-menu wider-menu" aria-labelledby="nav-item-topic">
                                            <ul class="extensible-list p-0">
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/airquality/"> <li class="">Air quality</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/climatehealth/"> <li class="">Climate</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/housing/"> <li class="">Housing</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/social/"> <li class="">Inequality</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/transportation/"> <li class="">Public space</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/healthoutcomes/"> <li class="">Health outcomes</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/childhealth/"> <li class="">Child health</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/pests/"> <li class="">Pests and pesticides</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                
                                                    
                                                    <a class="" href="/IndicatorPublic/key-topics/foodanddrink/"> <li class="">Food and drink</li></a>
                                                    <hr class="my-1">
                                                    
                                                
                                                
                                                    <a href=/IndicatorPublic/key-topics>All topics</a>

                                            </ul>
                                        </div>
                                    </div>
                                    

                                    <div class="nav-item bg-white text-primary border dropdown">
                                        <a class="nav-link dropdown-toggle" href="#" id="nav-item-type"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            Explore
                                        </a>

                                        <div class="dropdown-menu wider-menu" aria-labelledby="nav-item-type">
                                            <ul class="extensible-list p-0">

                                                <a href="/IndicatorPublic/data-stories/"><li><span class="mr-1"><span class='text-primary data-stories'><i class='fas fa-passport' aria-hidden='true'></i></span></span>Data Stories</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/data-features/"><li><span class="mr-1"><span class='df-accent'><i class='fas fa-chart-bar' aria-hidden='true'></i></span></span>Data Features</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/neighborhood-reports/"><li><span class="mr-1"><span class='text-primary n-reports'><i class='fas fa-map-marked-alt' aria-hidden='true'></i></span></span>Neighborhood Reports</li></a>

                                                        <hr class="my-1">

                                                    <a href="/IndicatorPublic/data-explorer/"><li><span class="mr-1"><span class='text-primary data-explorer'><i class='fas fa-chart-line' aria-hidden='true'></i></span></span>Data Explorer</li></a></ul>
                                        </div>
                                    </div>
                                    

                                    <div class="nav-item bg-white text-primary border">
                                        <a class="nav-link " href="/IndicatorPublic/about/">
                                            About
                                        </a></div>
                                    

                                    

                                    <div class="nav-item bg-white text-primary border d-none d-lg-block">
                                        <a class="nav-link" href="#" type="button" data-toggle="modal" data-target="#searchModal" title="Search" data-toggle="collapse">
                                                    <span class="sr-only">Search</span>
                                                    <i class="fa fa-magnifying-glass text-body"></i>
                                                </a>
                                    </div>
                                    

                                </nav>

                            </div>

                        </div>
                        

                    </div>
                    

                </div>
                

            </div>
            

        </div>
        

        <div class="container-fluid border-top collapse" id="global-language">
            <div class="narrow py-2">
                <div id="google_translate_element"></div>
            </div>
        </div>


        </div>

</header>
<main id="skip-header-target" role="main" data-pagefind-body><article class="container-fluid" id="skip-header-target">
    <div class="col-md-11 col-sm-12 mx-auto mb-4">

        <div class="row no-gutters mb-2">
            <div class="col">
                <nav aria-label="breadcrumb" class="mb-3 mt-2">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href=/IndicatorPublic/>Home</a></li>
                        <li class="breadcrumb-item"><a href=/IndicatorPublic/data-explorer>Data Explorer</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Data index</li>
                    </ul>
                </nav>
            </div>
        </div>

        <h1><i class="fas fa-chart-line" aria-hidden="true" style="margin-right: 10px"></i>Data index</h1><p>Search by term, see available years and geographies, and filter by data source.</p>


<p class="sr-only">This produces a list of topics and IndicatorIDs, stored in the variable <code>$topic_indicators</code>, 
    and printed to the console as a JavaScript variable, and then as an Arquero table.</p>
    
    <script>

        var topic_indicators = {"active-design":{"IndicatorID":[2388,2133,2181,2416,2389,2158,2391,2390,2426,2425,2157,2143],"topic_name":"Active design"},"air-quality":{"IndicatorID":[2023,2024,2028,2025,2027,2026,92,57,55,null],"topic_name":"Air quality"},"alcohol-use":{"IndicatorID":[2049,2057,2050,2051,2056,2055],"topic_name":"Alcohol access and use"},"asthma":{"IndicatorID":[2414,18,2392,2339,2429,2431,2380,2384,2048,2378,2379,2383,2382,2387,84,2385,2381,2386],"topic_name":"Asthma"},"asthma-triggers":{"IndicatorID":[107,2101,2393,2394,48,2430],"topic_name":"Asthma triggers at home"},"bed-bugs":{"IndicatorID":[2030],"topic_name":"Bed bugs"},"birth-defects":{"IndicatorID":[26,30,31,36,37,33,28,32,35,27,101,29,34],"topic_name":"Birth defects"},"birth-outcomes":{"IndicatorID":[1,2,4,3,5,6,7,8],"topic_name":"Birth outcomes"},"cancer":{"IndicatorID":[74,2096,66,60,770,2077,2087,2088,73,2089,63,2090,2095,71,2091,64,690],"topic_name":"Cancer"},"cancers-in-children":{"IndicatorID":[2039,2037,2035,2033,2031],"topic_name":"Cancers in children"},"carbon-monoxide-incidents":{"IndicatorID":[38,2168,2405,2406,2398],"topic_name":"Carbon monoxide"},"cigarette-smoke":{"IndicatorID":[2338,2020,2017,2421,2019,2021,2422,2404,25],"topic_name":"Cigarette smoke"},"climate":{"IndicatorID":[2411,2191,2084,2141,2143,2104,2185,2377],"topic_name":"Climate"},"cockroaches":{"IndicatorID":[22,2393,107],"topic_name":"Cockroaches"},"drinking-water-quality":{"IndicatorID":[2207,2043,2041,2044],"topic_name":"Drinking water quality"},"economic-conditions":{"IndicatorID":[103,2176,2337,2132,17,2336,15,2365],"topic_name":"Economic conditions"},"falls-among-older-adults":{"IndicatorID":[2135,2408,2136,2409,2188,2403],"topic_name":"Falls among older adults"},"health-care":{"IndicatorID":[2151,2132,2401,2232],"topic_name":"Health care"},"health-impacts-of-air-pollution":{"IndicatorID":[2122,2117,2124,2120,2119,2121,2108],"topic_name":"Health impacts of air pollution"},"healthy-eating":{"IndicatorID":[2432,2389,2097,2098],"topic_name":"Healthy eating"},"housing-maintenance":{"IndicatorID":[2396,2395,46,47,45,40,42,41,2399,2179],"topic_name":"Housing maintenance"},"housing-safety":{"IndicatorID":[2188,2104,2185,2377],"topic_name":"Housing safety"},"housing-stability":{"IndicatorID":[2365,15,17,2336],"topic_name":"Housing stability"},"lead":{"IndicatorID":[2189,2184,2216,2176,2209,41,16],"topic_name":"Lead poisoning"},"mice-and-rats":{"IndicatorID":[2434,2433,24,2394,48,2416],"topic_name":"Mice and rats"},"mortality":{"IndicatorID":[2322,5,6,8],"topic_name":"Mortality"},"overweight":{"IndicatorID":[2063,2064,2061,2062],"topic_name":"Overweight"},"pesticides":{"IndicatorID":[91,2235,100,2312,96,94,93,99,97,98,102,2366,2364,2367,2368,2369,2374,2370],"topic_name":"Pesticides"},"physical-activity":{"IndicatorID":[2060,2059,2058],"topic_name":"Physical activity"},"restaurant-food-safety":{"IndicatorID":[2065],"topic_name":"Restaurant food safety"},"social-conditions":{"IndicatorID":[2325,2145,14,2334,2317,2335,2146,2323],"topic_name":"Social conditions"},"transportation-related-injuries":{"IndicatorID":[2092,2086,2094,2093],"topic_name":"Transportation-related injuries"},"vector-borne-disease":{"IndicatorID":[2218,2340],"topic_name":"Vector-borne disease"},"violence":{"IndicatorID":[2400,2375],"topic_name":"Violence"},"walking-driving-and-cycling":{"IndicatorID":[2415,2133,2172,2058,2173,2059,2425,2426,2236,2237,2238,2112,2113,2114],"topic_name":"Walking, driving, and cycling"},"waterways":{"IndicatorID":[2427,2428],"topic_name":"Waterways"},"weather-related-illness":{"IndicatorID":[2376,2175,2174,2084,2074,2075,2443,2076,2410,2191,2411],"topic_name":"Weather-related illness"},"worker-health":{"IndicatorID":[2209,2211,2208,2210,2214,2239,2215],"topic_name":"Worker health"}};

        var arqTable = aq.from(topic_indicators)
        .rename({key: "topic"})
        .derive({
            IndicatorID: d => d.value.IndicatorID,
            topic_name: d => d.value.topic_name
        })
        .select(aq.not("value"))
        .unroll("IndicatorID");
        
        var topicIndicatorsTable = arqTable.objects();
        
        
    </script>
    
    <p class="sr-only">Also outputting a JSON version of the list to <code><a href=/IndicatorPublic/IndicatorMetadata/topic_indicators.json>IndicatorMetadata/topic_indicators.json</code></a> 
        (which on build will be put into <code>/docs/IndicatorMetadata/</code>)</strong><script>
            
            
        </script><table id="indicators" class="display fs-sm my-1" style="font-size:12px; width:100%">
                    <thead>
                        <tr>
                            <th class="tablehead">Indicator</th>
                            <th class="tablehead">Topics</th>
                            <th class="tablehead">Measurements</th>
                            <th class="tablehead">Geographies</th>
                            <th class="tablehead">Most recent data</th>
                            <th class="tablehead">Data Source</th>

                        </tr>
                    </thead>

                    <tbody id="tablebody">

                    </tbody>

                </table>

                <button class="btn btn-sm btn-outline-primary my-2" onclick="tableToCSV()"><i class="fas fa-download mr-1" aria-hidden="true"></i>Download table</button>

                <hr class="my-2">
                <p><i class="fas fa-exclamation-circle mr-1"></i><em>Can't find what you're looking for?</em> Try these other Health Department resources:
                <ul>
                  <li><a href="https://a816-health.nyc.gov/hdi/epiquery/">EpiQuery</a>: Analyze and visualize NYC health data from surveys, disease reports and vital records by sex, race/ethnicity, age and other stratifications.
                  </li>
                  <li><a href="https://a816-health.nyc.gov/hdi/profiles/">Community Health Profiles</a>: Learn about the social, economic and health conditions and outcomes of New Yorkers, neighborhood-by-neighborhood.
                  </li>
                </ul>
                <a href="https://www1.nyc.gov/site/doh/data/data-home.page">Browse all Health Department data resources here</a>.
                </p>

            </div>

        </article>

        <script>

            let indicators;
            let indicatorIndex = []
            let time_periods;


            

            d3.json('https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/production/indicators/metadata/metadata.json')
                .then(metadata => {

                    

                    indicators = metadata;

                    
                    

                    d3.json('https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/production/indicators/metadata/TimePeriods.json')
                        .then(tp => {

                            

                            time_periods = tp;

                            loopThroughIndicators() 

                        })
                });



            
            function loopThroughIndicators() {



                

                for (let i = 0; i < indicators.length; i++) {  

                    
                    let topics = topicIndicatorsTable.filter(element => element.IndicatorID == indicators[i].IndicatorID);

                    
                    

                    

                    let row_i = document.createElement('tr'); 
                    let cell_1 = document.createElement('td') 

                    

                    if (topics.length > 0) {

                        cell_1.innerHTML = "<a href='" + "/IndicatorPublic/data-explorer" + "/" + topics[0].topic + "/" + "?id=" + indicators[i].IndicatorID + "'>" + indicators[i].IndicatorName + "</a>"

                    } else {

                        cell_1.innerHTML = indicators[i].IndicatorName 

                    }

                    row_i.appendChild(cell_1); 

                    let measurements = [];
                    let geographies = [];
                    let times = [];
                    let all_years;
                    let maxTime;
                    let sources = [];

                    

                    let cell_2 = document.createElement('td')

                    let st_li = document.createElement('ul');
                    st_li.classList.add('no-bullets')
                    cell_2.appendChild(st_li);

                    
                    for (st = 0; st < topics.length; st++) {

                        let li = document.createElement('li');
                        li.innerHTML = "<a href='" + "/IndicatorPublic/data-explorer" + "/" + topics[st].topic + "/'>" + topics[st].topic_name + "</a>"
                        

                        st_li.appendChild(li)
                    }

                    row_i.appendChild(cell_2);

                    
                    let cell_3 = document.createElement('td')
                    let cell_4 = document.createElement('td')
                    let cell_5 = document.createElement('td')
                    let cell_6 = document.createElement('td')

                    
                    for (let n = 0; n < indicators[i].Measures.length; n++) {

                        
                        measurements.push(indicators[i].Measures[n].MeasurementType)

                        
                        
                        for (let y = 0; y < indicators[i].Measures[n].AvailableGeoTypes.length; y++) {

                            geographies.push(indicators[i].Measures[n].AvailableGeoTypes[y])

                            
                            

                        }

                        
                        let AvailableTimePeriodIDs = indicators[i].Measures[n].AvailableTimePeriodIDs;

                        
                        let end_periods = time_periods.filter(tp => AvailableTimePeriodIDs.includes(tp.TimePeriodID)).map(tp => tp.end_period);

                        
                        times.push(...end_periods);

                        
                        sources.push(indicators[i].Measures[n].Sources)

                    }

                    

                    
                    let unique_measurements = [...new Set(measurements)];
                    let ums = document.createElement('ul')
                    ums.classList.add('no-bullets')
                    cell_3.appendChild(ums);
                    for (m = 0; m < unique_measurements.length; m++) {
                        let li = document.createElement('li')
                        li.innerHTML = unique_measurements[m]
                        ums.appendChild(li)
                    }

                    row_i.appendChild(cell_3);

                    

                    const geos_order = ["Citywide", "Borough", "NYCKIDS2017", "NYCKIDS2019", "NYCKIDS2021", "UHF33", "UHF34", "UHF42", "Subboro", "CD", "CDTA", "NTA2010", "NTA2020", "RMZ"];
                    let unique_geographies = [...new Set(geographies)];

                    
                    unique_geographies.sort(function(a, b){
                        return geos_order.indexOf(a) - geos_order.indexOf(b)
                    });

                    let geobullets = document.createElement('ul')
                    geobullets.classList.add('no-bullets')
                    cell_4.appendChild(geobullets)

                    

                    let pretty_unique_geographies = [...new Set(unique_geographies.map(geo => prettifyGeoType(geo)))]

                    for (l = 0; l < pretty_unique_geographies.length; l++) {

                        let li = document.createElement('li')

                        
                        li.innerHTML = pretty_unique_geographies[l];
                        li.setAttribute("geo", pretty_unique_geographies[l]);
                        li.classList.add("btn", "btn-sm", "geobullets", pretty_unique_geographies[l])

                        

                        li.addEventListener('click', e => {
                            
                            toggle_button(e);
                        });

                        geobullets.appendChild(li);

                    }

                    row_i.appendChild(cell_4)

                    
                    maxTime = new Date(Math.max(...times));
                    cell_5.innerHTML = maxTime.getFullYear();
                    row_i.appendChild(cell_5)

                    


                    
                    let unique_sources = [...new Set(sources)];
                    let usrc = document.createElement('ul')
                    usrc.classList.add('no-bullets')
                    cell_6.appendChild(usrc);

                    for (src = 0; src < unique_sources.length; src++) {
                        let li = document.createElement('li')
                        li.innerHTML = unique_sources[src]
                        usrc.appendChild(li)
                    }

                    row_i.appendChild(cell_6);

                    
                    document.getElementById('tablebody').appendChild(row_i)
                }

                
                initializeDataTables()

            }


            function initializeDataTables() {
                let table = new DataTable('#indicators', {
                    
                    scrollY: 600,
                    scrollX: true,
                    paging: false,
                    responsive: true,
                    fixedColumns: true
                });
            }


            

            function geobullet_filter(active_geo) {

                

                $('#indicators').DataTable().column(":contains(Geographies)").search(active_geo.join('|'), true, false, false).draw()

                

                if (active_geo.length > 0) {

                    
                    
                    let geo_buttons = document.querySelectorAll(active_geo.map(i => "." + i).toString());

                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.add("active");
                    }
                }

            }

            function toggle_button(e) {

                
                var button = e.target;

                if (button.classList.contains("active") == false) {
                    

                    

                    let geo_buttons = document.querySelectorAll("[geo=" + button.attributes.geo.value + "]");

                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.add("active");
                    }

                }
                else if (button.classList.contains("active") == true) {
                    

                    
                    let geo_buttons = document.querySelectorAll("[geo=" + button.attributes.geo.value + "]");

                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.remove("active");
                    }

                }

                let active = document.querySelectorAll("li.active");
                let active_geos = [];

                for (let i = 0; i < active.length; i++) {

                    if (typeof active[i].attributes.geo != "undefined") {

                        active_geos.push(active[i].attributes.geo.value);

                    }
                }

                let active_geographies = [...new Set(active_geos)];

                geobullet_filter(active_geographies);

            }

            

            const prettifyGeoType = (GeoType) => {

                switch (GeoType) {

                    case 'NYCKIDS2017':
                        return 'NYCKIDS';

                    case 'NYCKIDS2019':
                        return 'NYCKIDS';

                    case 'NYCKIDS2021':
                        return 'NYCKIDS';

                    case 'CDTA2020':
                        return 'CDTA';

                    case 'NTA2010':
                        return 'NTA';

                    case 'NTA2020':
                        return 'NTA';

                    default:
                        return GeoType;

                }
            }

            
            function tableToCSV() {

                
                let csv_data = [];

                
                let rows = document.getElementsByTagName('tr');
                for (let i = 0; i < rows.length; i++) {

                    
                    let cols = rows[i].querySelectorAll('td,th');

                    
                    let csvrow = [];
                    for (let j = 0; j < cols.length; j++) {

                        
                        
                        let string = `"` + removeTags(cols[j].innerHTML) + `"`

                        csvrow.push(string); 
                    }

                    
                    csv_data.push(csvrow.join(","));
                }
                
                csv_data = csv_data.join('\n');

                 
                
                downloadCSVFile(csv_data);
            }

            
            function downloadCSVFile(csv_data) {

                
                
                CSVFile = new Blob([csv_data], { type: "text/csv" });

                
                
                let temp_link = document.createElement('a');

                
                temp_link.download = "EHDP-data-index.csv";
                let url = window.URL.createObjectURL(CSVFile);
                temp_link.href = url;

                
                temp_link.style.display = "none";
                document.body.appendChild(temp_link);

                
                temp_link.click();
                document.body.removeChild(temp_link);
            }


            function removeTags(str) {
                if ((str === null) || (str === ''))
                    return false;
                else
                    
                    str = str.toString().replace(/(<\/li>)/ig, '$1, ').replace(/(<\/li>, <\/ul>)/ig, '<\/li><\/ul>');

                
                
                
                return str.replace(/(<([^>]+)>)/ig, '');
            }


            
            
            

            var object = [];
            function createMeasureMetadata() {
                console.log('object of indicators, measures, and text metadata:')
                
                for (let i = 0; i < indicators.length; i++) {

                    for (let j = 0; j < indicators[i].Measures.length; j ++) {

                        var measure = {};
                        measure.indicatorName    = indicators[i].IndicatorName
                        measure.indicatorID      = indicators[i].IndicatorID
                        measure.indicatorDesc    = indicators[i].IndicatorDescription
                        measure.measureName      = indicators[i].Measures[j].MeasureName
                        measure.measureID        = indicators[i].Measures[j].MeasureID
                        measure.measurementType  = indicators[i].Measures[j].MeasurementType
                        measure.displayType      = indicators[i].Measures[j].DisplayType

                        object.push(measure)
                    }

                }

                console.log(object)
            }

            function getNoMaps() {
                var noMapObject = [];
                console.log('indicators without a mapped measure:')
                
                for (let i = 0; i < indicators.length; i++) {
                    var maps = [];
                    
                    for (let j = 0; j < indicators[i].Measures.length; j ++) {
                        
                        maps.push(indicators[i].Measures[j].VisOptions[0].Map[0].GeoType)
                        }

                        
                        const isNull = (geotype) => geotype == null
                        if (maps.every(isNull) == true) {
                            
                            var indicator = {}
                            indicator.indicatorName    = indicators[i].IndicatorName
                            indicator.indicatorID      = indicators[i].IndicatorID

                            noMapObject.push(indicator)
                        } else {}

                    }
                    console.log(noMapObject)
            }

            var inds = [];
            var fullInds = [];
            function indicatorsWithFullViews() {
                console.log('object of indicators with a full-view measure')
                
                for (let i = 0; i < indicators.length; i++) {
                    var thisIndicator = [];

                    
                    for (let j = 0; j < indicators[i].Measures.length; j ++) {
                        
                        var thisMeasure = {};
                        if (indicators[i].Measures[j].VisOptions[0].Map[0].GeoType != null) {thisMeasure.map = 1} else {thisMeasure.map = 0}
                        if (indicators[i].Measures[j].VisOptions[0].Trend[0].GeoType != null) {thisMeasure.trend = 1} else {thisMeasure.trend = 0}
                            let links;
                            let disparities;
                            if (indicators[i].Measures[j].VisOptions[0].Links[0].Measures[0].MeasureID != null) {links = 1} else {links = 0}
                            if (indicators[i].Measures[j].VisOptions[0].Links[0].Disparities == 1) {disparities = 1} else {disparities = 0}
                            thisMeasure.LD = links + disparities
                        thisMeasure.measureName    = indicators[i].Measures[j].MeasureName
                        thisMeasure.measureID      = indicators[i].Measures[j].MeasureID
                        thisMeasure.measureViewSum = thisMeasure.map + thisMeasure.trend + thisMeasure.LD
                        
                        thisIndicator.push(thisMeasure)

                    } 

                    inds.push(thisIndicator)

                }  


                
                for (let i = 0; i < inds.length; i++) {
                    var thisIndicator = {};
                    var count = 0
                            
                            for (let j = 0; j < inds[i].length; j ++) {
                                if (inds[i][j].measureViewSum > 1) {
                                    count = count+1
                                }
                            }
                    inds[i].measuresTwoPlus = count
                    if (inds[i].measuresTwoPlus > 0) {
                        fullInds.push(inds[i])
                    } else {}
                }
                console.log(inds)
                console.log(fullInds)
            }

            function measureViewSummary() {
                var mvs = [];
                console.log('object of indicators, measures, and text metadata:')
                
                for (let i = 0; i < indicators.length; i++) {

                    for (let j = 0; j < indicators[i].Measures.length; j ++) {

                        var measure = {};
                        measure.indicatorName    = indicators[i].IndicatorName
                        measure.indicatorID      = indicators[i].IndicatorID
                        
                        measure.measureName      = indicators[i].Measures[j].MeasureName
                        measure.measureID        = indicators[i].Measures[j].MeasureID

                        if (indicators[i].Measures[j].VisOptions[0].Map[0].GeoType != null) {measure.map = 1} else {measure.map = 0}

                        if (indicators[i].Measures[j].VisOptions[0].Trend[0].GeoType != null) {measure.trend = 1} else {measure.trend = 0}

                        if (indicators[i].Measures[j].VisOptions[0].Links[0].Measures[0].MeasureID != null) {measure.links = 1} else {measure.links = 0}

                        if (indicators[i].Measures[j].VisOptions[0].Links[0].Disparities == 1) {measure.disparities = 1} else {measure.disparities = 0}

                        


                        



                        mvs.push(measure)
                    }

                }

                console.log(mvs)
            }

        </script><ul id="results"></ul>
  </main>
  
  <footer class="bg-black" id="global-footer" role="contentinfo">

  <h2 class="sr-only">
      Page Footer
  </h2>

  <div class="bg-opacity-black-25 text-white" id="nyc-footer">

      <div class="container py-3 d-none" id="languages">

          <div class="row fs-md d-print-none">

              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
                  </ul>
              </div>
          </div>

      </div>
      

      <div class="container py-3 d-print-none" id="languages">

          <ul class="fs-md" role="list">
              <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
          </ul>

      </div>
      

      <hr class="opacity-10" aria-hidden="true">

      <div class="container py-3">
          <div class="row">
              <div class="col-md-6 col-lg-8 mb-3 mb-lg-0">
                  <nav class="row fs-md d-print-none" role="navigation">
                      <div class="col-lg mb-3 mb-lg-0">
                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/nyc-resources/agencies.page">
                                      <strong>Directory of City Agencies</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a858-nycnotify.nyc.gov/notifynyc/">
                                      <strong>Notify NYC</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/connect/mobile-applications.page">
                                      <strong>NYC Mobile Apps</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/home/contact-us.page">
                                      <strong>Contact NYC Government</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a856-citystore.nyc.gov/">
                                      <strong>CityStore</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www.nyc.gov/nyc-resources/nyc-maps.page">
                                      <strong>Maps</strong>
                                  </a>
                              </li>
                          </ul>

                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset"
                                      href="https://a127-ess.nyc.gov/psp/prdess/?cmd=login&languageCd=ENG&">
                                      <strong>City Employees</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/connect/social-media.page">
                                      <strong>Stay Connected</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/nyc-resources/resident-toolkit.page">
                                      <strong>Resident Toolkit</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                  </nav>
              </div>
              

              <div class="col-md-6 col-lg-4">

                  <a class="mb-2" href="https://www1.nyc.gov" title="Go to nyc.gov" target="_blank" rel="noopener noreferrer">
                      
                      <img class="mb-2" src="/IndicatorPublic/images/nyc-bubble-logo.svg" width="90" alt="NYC Logo">
                      <span class="sr-only">(opens in a new tab)</span>
                  </a>
                  <p class="fs-sm">© City of New York. 2022 All Rights Reserved,<br>NYC is a trademark and service mark of the City of New
                    York.</p>

                  <ul class="extensible-list horizontal fs-sm d-print-none">
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/privacy-policy.page">Privacy
                              Policy</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/terms-of-use.page">Terms
                              of Use</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/site/mopd/index.page"
                              title="Mayor's Office for People with Disabilities">
                              <span class="sr-only">Learn more about Digital Accessibility
                                from the Mayor's Office for People with Disabilities.</span>
                              <span class="fab fa-lg fa-accessible-icon"></span>
                          </a>
                      </li>
                  </ul>

              </div>
              

          </div>
          

      </div>
      

  </div>
  

</footer>


<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="searchModalLabel" data-pagefind-ignore="all">Search</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <link href=/IndicatorPublic/pagefind/pagefind-ui.css rel="stylesheet">
            <script src=/IndicatorPublic/pagefind/pagefind-ui.js type="text/javascript"></script>
            <div id="search"></div>
            <script>

                window.addEventListener('DOMContentLoaded', (event) => {

                    new PagefindUI({
                        element: "#search",
                        showSubResults: true,
                        showImages: false,
                        baseUrl: baseURL,
                        showEmptyFilters: true,
                        debounceTimeoutMs: 500,
                        
                        processTerm: function (term) {

                            gtag('event', 'search', {
                                search_term: term
                            });

                            return term;

                        },
                        processResult: function (result) {

                            
                            
                            

                            

                            result.meta.title = result.meta.title
                                .replace(/&#(\d+);/g, ((match, dec) => `${String.fromCharCode(dec)}`))
                                .replaceAll("&amp;", "&");

                            

                            result.sub_results.forEach(sub => {

                                

                                sub.url = sub.url.replace("#IndicatorID-", "?id=");

                                

                                sub.title = sub.title
                                    .replace(/&#(\d+);/g, ((match, dec) => `${String.fromCharCode(dec)}`))
                                    .replaceAll("&amp;", "&");

                            });

                            
                            
                            

                            
                            var allResults = document.getElementsByClassName('pagefind-ui__result-link');

                            
                            for (h = 0; h < allResults.length; h += 1) {

                                allResults[h].setAttribute('onclick',"gtag('event', 'search_click', { page_viewed: '" + allResults[h].href + "' });");

                            }

                            

                            console.log("@ result:", result);
                            

                        }
                    });

                    

                    

                    const searchModal = document.getElementById('searchModal')
                    const searchInput = document.getElementsByClassName('pagefind-ui__search-input')[0]

                    $(searchModal).on('shown.bs.modal', () => {
                        searchInput.focus();
                        searchInput.select();
                    })


                });


            </script>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
</div>

<script>


</script>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>


<script>
  function googleTranslateElementInit() {
      new google.translate.TranslateElement({
          pageLanguage: 'en'
      }, 'google_translate_element');

      
      document.querySelectorAll("div[class^=VI] svg").forEach(e => e.outerHTML = "");
  }
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script type="text/javascript" 
    src="/IndicatorPublic/js/main.552c9e0eb5b9f567a863809d88dfdb9dfc2e5062f1aa7ae313abbdf21a346fd773ae265f5ff618d8322e2b96b95be1b319c681eb0ea7b818a3c6485a84b6ad5a.js" 
    integrity="sha512-VSyeDrW59WeoY4CdiN/bnfwuUGLxqnrjE6u98ho0b9dzriZfX/YY2DIuK5a5W&#43;GzGcaB6w6nuBijxkhahLatWg=="></script>

  
  
</body>
</html>
