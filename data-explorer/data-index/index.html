<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>



<script async src="https://www.googletagmanager.com/gtag/js?id=G-64BWDRHRGB"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', 'G-64BWDRHRGB');
</script>


<meta name="robots" content="all" />



<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Index of Data on the Environment and Health Data Portal</title>


<meta name="build_datetime" content='2024-03-27 18:20:37'>
<meta name="build_environment" content='prod_prod'>
<meta name="description" content="An index of datasets on the Environment and Health Data Portal. ">
<link rel="canonical" href="/IndicatorPublic/data-explorer/data-index/" />
<meta name="geo.region" content="" />
<meta name="geo.placename" content="Environment &amp; Health Data Portal" />


<meta property="fb:profile_id" content="0" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_us" />
<meta property="og:url" content="/IndicatorPublic/data-explorer/data-index/" />
<meta property="og:title" content="Index of Data on the Environment and Health Data Portal  &ndash; Environment &amp; Health Data Portal" />
<meta property="og:description" content="Browse an index of datasets on the Environment and Health Data Portal. " />
<meta property="og:site_name" content="Environment &amp; Health Data Portal" />
<meta property="og:image" content="/IndicatorPublic/images/report_bottom_background_hu55023dbc37de342337a21cf33dcc5889_222582_2400x1260_fill_q95_mitchellnetravali_smart1.jpg"><meta property="og:see_also" content="https://twitter.com/nycHealthy" />
<meta name="twitter:title" content="Index of Data on the Environment and Health Data Portal  &ndash; Environment &amp; Health Data Portal">
<meta name="twitter:description" content=" Browse an index of datasets on the Environment and Health Data Portal. ">
<meta name="twitter:image" content=" /IndicatorPublic/images/report_bottom_background.jpg">
<meta name="twitter:site" content="@nycHealthy">
<meta name="twitter:creator" content="@nycHealthy">



<script src="/IndicatorPublic/node_modules/jquery/dist/jquery.min.bf6089ed4698cb8270a8b0c8ad9508ff886a7a842278e98064d5c1790ca3a36d5d69d9f047ef196882554fc104da2c88eb5395f1ee8cf0f3f6ff8869408350fe.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR&#43;8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous"></script>




<link rel="icon" href=/IndicatorPublic/7618350_heatmap_business_analytics_statistics_icon-gpr.ico>

<link rel="stylesheet" href="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/css/all.min.css" />

<script src="/IndicatorPublic/node_modules/@fortawesome/fontawesome-free/js/all.min.196cd5adc1a5a344f14d1bf3f6db62a32609f96c24f429341bcd43f9e3badc16aa1da2776195fdc2eaa3c207dc57f32b0763e16955fd0e461585b1694ad9eaa5.js" integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ&#43;Wwk9Ck0G81D&#43;eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ==" crossorigin="anonymous"></script>


<link rel="stylesheet" href="/IndicatorPublic/scss/theme.79006eaddd47ff11fa528e7bffb2a4bb944f5a67697d6dc912aeadc88f4476600a3c8bcae5ace5782f08a4c3da116cf46be10d82f0fe360e10d61f8aa2df2a8f.css" integrity="sha512-eQBurd1H/xH6Uo57/7Kku5RPWmdpfW3JEq6tyI9EdmAKPIvK5azleC8IpMPaEWz0a&#43;ENgvD&#43;Ng4Q1h&#43;Kot8qjw==" />

<script src="/IndicatorPublic/node_modules/dompurify/dist/purify.min.71ed1f9ae1205aba6721758a42b4a027916c06caff8673acc5d5af93996ed464e17246ac2f073e4c014444b348c169d6a81a1657818f0c98b3d8f48f9ed8a754.js" integrity="sha512-ce0fmuEgWrpnIXWKQrSgJ5FsBsr/hnOsxdWvk5lu1GThckasLwc&#43;TAFERLNIwWnWqBoWV4GPDJiz2PSPntinVA=="></script>





<script src="/IndicatorPublic/node_modules/d3/dist/d3.min.bdce7caafbc176b0d1e1eb5bc4c7654ede06050935aa3bf23914769ebb0fb053f2aecfbfbb9737fb50adeaea4e81d668225edeaba9376b550f0d2340422ff7d8.js" integrity="sha512-vc58qvvBdrDR4etbxMdlTt4GBQk1qjvyORR2nrsPsFPyrs&#43;/u5c3&#43;1Ct6upOgdZoIl7eq6k3a1UPDSNAQi/32A=="></script>

    <link rel="stylesheet" href="/IndicatorPublic/css/dtCSS.css" >

    <script src="/IndicatorPublic/js/dataTableBundle.01e1330c6719cbde6e96507c9063003b2396d7b863673b3055c40554f31ad822d158f68a64605e31ed1d803f1ab4a244aa2c6056d21ba68ac7cfda0f0f8704ed.js" integrity="sha512-AeEzDGcZy95ullB8kGMAOyOW17hjZzswVcQFVPMa2CLRWPaKZGBeMe0dgD8atKJEqixgVtIbporHz9oPD4cE7Q=="></script>

    <script src="/IndicatorPublic/node_modules/arquero/dist/arquero.min.a76a5717703559cd2aee63d11c568cbecbce011e681b632e8ead2b4d0ea1dab4838e548a1487c0d5a7d8222a32ba6acc90aec2df908b1830889e75479c59b0a5.js" integrity="sha512-p2pXF3A1Wc0q7mPRHFaMvsvOAR5oG2Mujq0rTQ6h2rSDjlSKFIfA1afYIioyumrMkK7C35CLGDCInnVHnFmwpQ=="></script>

<script>
    let baseURL = "/IndicatorPublic/"
    let data_repo = "https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/";
    let data_branch = "production";
    let hugoEnv = "prod_prod"

    

</script>
  </head>



<body>
  
  
<a class="sr-only sr-only-focusable skip-menu" href="#skip-header-target">Skip Header</a>

<header id="global-header" role="banner">

    <div class="bg-black text-white" id="nyc-top-header">

        <div class="container-fluid wide">

            <div class="row py-1 align-items-center justify-content-between">

                <div class="col-auto">
                    <p class="d-none d-md-flex fs-md">
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            <strong>nyc.gov</strong>
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="https://www1.nyc.gov/">
                            Health
                        </a>
                        <span class="mx-1" aria-hidden="true">></span>
                        <a class="text-reset" href="/IndicatorPublic/data-explorer/data-index/">
                        EH Data Portal
                        </a>
                    </p>
                </div>
                

                <div class="col-auto">

                    <ul class="extensible-list horizontal fs-md">
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/">
                                <strong>
                                    311
                                </strong>
                            </a>
                        </li>
                        <li class="d-print-none">
                            <a class="text-reset" href="https://www1.nyc.gov/home/search/index.page">
                                <strong>
                                    Search all NYC.gov
                                </strong>
                            </a>
                        </li>
                        <li>
                            <a href="https://www1.nyc.gov/" title="Go to nyc.gov">
                                <img class="d-block" src=/IndicatorPublic/images/nyc-bubble-logo.svg width="45" alt="NYC Logo">
                            </a>
                        </li>
                    </ul>

                </div>
                

            </div>
            

        </div>
        

    </div>
    
    <div class="site-header bg-primary" style='background-image: url(/IndicatorPublic/images/header_background.jpg)'>
        <div class="wrap-header">

            <div class="container-fluid wide">

                <div class="row align-items-center">

                    <div class="col-lg py-2 pl-md-5">

                        <div class="d-flex justify-content-center justify-content-lg-start">

                            <p class="text-white">
                                <span class="site-title title-hover"><a href=/IndicatorPublic/ class="link-no-dec">Environment and Health Data Portal</span>
                                <span class="site-subtitle">Understand how environments shape health in New York City</a></span>
                            </p>


                        </div>
                        

                    </div>
                    

                    <div class="col-lg-auto border-top border-lg-0 d-print-none">

                        <div class="row no-gutters justify-content-between py-2">

                            
                            <div class="col-auto d-flex d-lg-none">

                                <button class="no-btn-style" type="button" data-toggle="collapse"
                                    data-target="#nav-primary" aria-controls="nav-primary" aria-expanded="false"
                                    aria-label="Toggle navigation">
                                    <span class="fas fa-bars fa-lg"></span>
                                </button>

                            </div>
                            

                            <div class="col-auto justify-content-end">

                                <ul class="extensible-list horizontal justify-content-end">
                                    <li>
                                        <button class="no-btn-style" type="button" title="Language"
                                            data-toggle="collapse" data-target="#global-language"
                                            aria-controls="global-language" aria-expanded="false">
                                            <span class="sr-only">Language</span>
                                            <span class="fas fa-language fa-2x"></span>
                                        </button>
                                    </li>
                                    <li>
                                        <button class="btn nav-item-search d-lg-none" type="button" title="Search"
                                        data-toggle="collapse" data-target="#global-search"
                                        aria-controls="global-search" aria-expanded="false">

                                        <span class="sr-only">Search</span>
                                        <i class="fa fa-magnifying-glass fa-lg"></i>

                                    </button>
                                </li>

                                </ul>

                                <a class="btn-sm text-white font-weight-bold mr-2" style="border: 1px solid lightgray; border-radius: 3px;" href=/IndicatorPublic/about>About us</a>

                            </div>
                            

                        </div>
                        

                    </div>
                    

                </div>
                

            </div>
            

        </div>
        

        <div class="container-fluid border-top collapse" id="global-language">
            <div class="narrow py-2">
                <div id="google_translate_element"></div>
            </div>
        </div>


        </div>
        <div class="container-fluid collapse d-lg-block px-0 border-lg-top d-print-none" id="nav-primary">

            <div class="wide">

                <nav class="nav nav-pills border-bottom border-right justify-content-center" role="navigation"><span id="File.Path" style="display: none">data-explorer/data-index.md</span>
                <span id="FirstSection.RelPermalink" style="display: none">/IndicatorPublic/data-explorer/</span>

                <div class="nav-item-search border-right">
                    <a class="nav-link" id="nav-item-01" href=/IndicatorPublic/>
                    <span class='text-primary'><i class='fa fa-home' aria-hidden='true'></i><span class="sr-only">Home</span></span>
                    </a>
                </div><div class="nav-item">

                        <a class="nav-link" href="/IndicatorPublic/key-topics/" id="nav-item-05"><span class='text-primary'><i class='fas fa-star' aria-hidden='true'></i></span> Key Topics</a>

                    </div><div class="nav-item">

                        <a class="nav-link" href="/IndicatorPublic/data-stories/" id="nav-item-02"><span class='text-primary'><i class='fas fa-passport' aria-hidden='true'></i></span> Data Stories</a>

                    </div><div class="nav-item">

                        <a class="nav-link" href="/IndicatorPublic/neighborhood-reports/" id="nav-item-04"><span class='text-primary'><i class='fas fa-map-marked-alt' aria-hidden='true'></i></span> Neighborhood Reports</a>

                    </div><div class="nav-item active">

                        <a class="nav-link" href="/IndicatorPublic/data-explorer/" id="nav-item-03"><span class='text-primary'><i class='fas fa-chart-line' aria-hidden='true'></i></span> Data Explorer</a>

                    </div><button class="btn nav-item-search d-none d-lg-block" type="button" title="Search"
                            data-toggle="collapse" data-target="#global-search"
                            aria-controls="global-search" aria-expanded="false">

                        <span class="sr-only">Search</span>
                        <i class="fa fa-magnifying-glass fa-lg"></i>

                    </button></nav>

            </div>

        </div>

        <div class="container-fluid-lg border-top collapse" id="global-search">

            <form class="narrow py-2" aria-label="Search" role="search">

                <div class="input-group">

                    <label class="sr-only" for="global-search-bar">Search</label>

                    <input class="form-control form-control-lg" id="global-search-bar" placeholder="Search">

                    <div class="input-group-btn">

                        <button class="btn btn-primary btn-lg" type="button" title="Search">

                            <span class="sr-only">Search</span>
                            <span class="fas fa-arrow-right"></span>

                        </button>

                    </div>

                </div>

            </form>


            

    </div>

</header>
<main id="skip-header-target" role="main"><article class="container-fluid" id="skip-header-target">
    <div class="col-md-11 col-sm-12 mx-auto my-4">
        
        <div class="row no-gutters mb-2">
            <div class="col">
                <nav aria-label="breadcrumb" class="my-3">
                    <ul class="breadcrumb">
                        <li class="breadcrumb-item"><a href=/IndicatorPublic/>Home</a></li>
                        <li class="breadcrumb-item"><a href=/IndicatorPublic/data-explorer>Data Explorer</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Data index</li>
                    </ul>
                </nav>
            </div>
        </div>
        
        <h1><i class="fas fa-chart-line" aria-hidden="true" style="margin-right: 10px"></i>Data index</h1><p>Search by term, see available years and geographies, and filter by data source.</p>


<p class="sr-only">This produces a list of topics and IndicatorIDs, stored in the variable <code>$topic_indicators</code>, 
    and printed to the console as a JavaScript variable, and then as an Arquero table.</p>
    
    <script>

        var topic_indicators = {"active-design":{"IndicatorID":[2133,2388,2181,2416,2389,2158,2391,2390,2426,2425,2157,2143],"topic_name":"Active design"},"air-quality":{"IndicatorID":[92,57,55,2024,2023,2028,2025,2027,2026],"topic_name":"Air quality"},"alcohol-use":{"IndicatorID":[2049,2057,2050,2051,2056,2055],"topic_name":"Alcohol access and use"},"asthma":{"IndicatorID":[2380,2384,2048,2378,2379,2383,2382,2387,84,2385,2381,2386,18,2392,2147,2149,2339,2414,2429],"topic_name":"Asthma"},"asthma-triggers":{"IndicatorID":[2101,25,2393,2394,107,48],"topic_name":"Asthma triggers at home"},"bed-bugs":{"IndicatorID":[2030],"topic_name":"Bed bugs"},"birth-defects":{"IndicatorID":[26,30,31,36,37,33,28,32,35,27,101,29,34],"topic_name":"Birth defects"},"birth-outcomes":{"IndicatorID":[1,2,4,3,5,6,7,8],"topic_name":"Birth outcomes"},"cancer":{"IndicatorID":[74,2096,66,60,770,2077,2087,2088,73,2089,63,2090,2095,71,2091,64,690],"topic_name":"Cancer"},"cancers-in-children":{"IndicatorID":[2039,2037,2035,2033,2031],"topic_name":"Cancers in children"},"carbon-monoxide-incidents":{"IndicatorID":[38,2168,2405,2406,2398],"topic_name":"Carbon monoxide"},"cigarette-smoke":{"IndicatorID":[2338,2020,2017,2421,2019,2021,25],"topic_name":"Cigarette smoke"},"climate":{"IndicatorID":[2141,2143,2084,2191,2411,2155,2104,2185,2377],"topic_name":"Climate"},"cockroaches":{"IndicatorID":[22,2393,107],"topic_name":"Cockroaches"},"drinking-water-quality":{"IndicatorID":[2207,2043,2041,2044],"topic_name":"Drinking water quality"},"economic-conditions":{"IndicatorID":[103,2176,2337,2132,2317,2073,17,2336,15,2365],"topic_name":"Economic conditions"},"falls-among-older-adults":{"IndicatorID":[2403,2135,2408,2136,2409,2188],"topic_name":"Falls among older adults"},"health-care":{"IndicatorID":[2151,2132,2401,2232],"topic_name":"Health care"},"health-impacts-of-air-pollution":{"IndicatorID":[2122,2117,2124,2120,2119,2121,2108],"topic_name":"Health impacts of air pollution"},"healthy-eating":{"IndicatorID":[2389,2097,2098,2432],"topic_name":"Healthy eating"},"housing-maintenance":{"IndicatorID":[2396,2395,46,47,45,40,42,41,2399,2179],"topic_name":"Housing maintenance"},"housing-safety":{"IndicatorID":[2188,2185,2377],"topic_name":"Housing safety"},"housing-stability":{"IndicatorID":[2365,15,17,2336],"topic_name":"Housing stability"},"lead":{"IndicatorID":[2189,2184,2216,2176,2209,41,16],"topic_name":"Lead poisoning"},"mice-and-rats":{"IndicatorID":[2394,2105,24,48,2416],"topic_name":"Mice and rats"},"mortality":{"IndicatorID":[2322,5,6,8],"topic_name":"Mortality"},"overweight":{"IndicatorID":[2063,2064,2061,2062],"topic_name":"Overweight"},"pesticides":{"IndicatorID":[2235,91,100,2312,96,94,93,99,97,98,102,2366,2364,2367,2368,2369,2374,2370],"topic_name":"Pesticides"},"physical-activity":{"IndicatorID":[2060,2173,2172,2058,2059],"topic_name":"Physical activity"},"restaurant-food-safety":{"IndicatorID":[2065],"topic_name":"Restaurant food safety"},"social-conditions":{"IndicatorID":[2325,2145,14,2334,2317,2335,2146,2323],"topic_name":"Social conditions"},"transportation-related-injuries":{"IndicatorID":[2092,2086,2094,2093],"topic_name":"Transportation-related injuries"},"vector-borne-disease":{"IndicatorID":[2218,2340],"topic_name":"Vector-borne disease"},"violence":{"IndicatorID":[2400,2375],"topic_name":"Violence"},"walking-driving-and-cycling":{"IndicatorID":[2415,2133,2172,2058,2173,2059,2425,2426,2236,2237,2238,2112,2113,2114],"topic_name":"Walking, driving, and cycling"},"waterways":{"IndicatorID":[2427,2428],"topic_name":"Waterways"},"weather-related-illness":{"IndicatorID":[2376,2175,2174,2410,2084,2074,2075,2076,2191,2411],"topic_name":"Weather-related illness"},"worker-health":{"IndicatorID":[2209,2211,2208,2210,2214,2239,2215],"topic_name":"Worker health"}};

        var arqTable = aq.from(topic_indicators)
        .rename({key: "topic"})
        .derive({
            IndicatorID: d => d.value.IndicatorID,
            topic_name: d => d.value.topic_name
        })
        .select(aq.not("value"))
        .unroll("IndicatorID");
        
        var topicIndicatorsTable = arqTable.objects();
        
        
    </script>
    
    <p class="sr-only">Also outputting a JSON version of the list to <code><a href=/IndicatorPublic/IndicatorMetadata/topic_indicators.json>IndicatorMetadata/topic_indicators.json</code></a> 
        (which on build will be put into <code>/docs/IndicatorMetadata/</code>)</strong><script>
            
            
        </script><table id="indicators" class="display fs-sm my-1" style="font-size:12px; width:100%">
                    <thead>
                        <tr>
                            <th class="tablehead">Indicator</th>
                            <th class="tablehead">Topics</th>
                            <th class="tablehead">Measurements</th>
                            <th class="tablehead">Geographies</th>
                            <th class="tablehead">Most recent data</th>
                            <th class="tablehead">Data Source</th>
                            
                        </tr>
                    </thead>
                    
                    <tbody id="tablebody">
                        
                    </tbody>
                    
                </table>

                <button class="btn btn-sm btn-outline-primary my-2" onclick="tableToCSV()"><i class="fas fa-download mr-1" aria-hidden="true"></i>Download table</button>

                <hr class="my-2">
                <p><i class="fas fa-exclamation-circle mr-1"></i><em>Can't find what you're looking for?</em> Try these other Health Department resources:
                <ul>
                  <li><a href="https://a816-health.nyc.gov/hdi/epiquery/">EpiQuery</a>: Analyze and visualize NYC health data from surveys, disease reports and vital records by sex, race/ethnicity, age and other stratifications.
                  </li>
                  <li><a href="https://a816-health.nyc.gov/hdi/profiles/">Community Health Profiles</a>: Learn about the social, economic and health conditions and outcomes of New Yorkers, neighborhood-by-neighborhood.
                  </li>
                </ul>
                <a href="https://www1.nyc.gov/site/doh/data/data-home.page">Browse all Health Department data resources here</a>.
                </p>
                
            </div>
            
        </article>
        
        <script>

            let indicators;
            let indicatorIndex = []
            let time_periods;
            
            
            

            d3.json('https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/production/indicators/metadata/metadata.json')
                .then(metadata => {

                    

                    indicators = metadata;

                    d3.json('https:\/\/raw.githubusercontent.com\/nychealth\/EHDP-data\/production/indicators/metadata/TimePeriods.json')
                        .then(tp => {

                            

                            time_periods = tp;
                                
                            loopThroughIndicators() 
                            
                        })
                });
            

            
            
            function loopThroughIndicators() {



                
                
                for (let i = 0; i < indicators.length; i++) {  
                    
                    
                    let topics = topicIndicatorsTable.filter(element => element.IndicatorID == indicators[i].IndicatorID);

                    
                    
                    
                    
                    
                    let row_i = document.createElement('tr'); 
                    let cell_1 = document.createElement('td') 
                    
                    
                    
                    if (topics.length > 0) {

                        cell_1.innerHTML = "<a href='" + "/IndicatorPublic/data-explorer" + "/" + topics[0].topic + "/" + "?id=" + indicators[i].IndicatorID + "'>" + indicators[i].IndicatorName + "</a>"

                    } else {

                        cell_1.innerHTML = indicators[i].IndicatorName 

                    }
                    
                    row_i.appendChild(cell_1); 
                    
                    let measurements = [];
                    let geographies = [];
                    let times = [];
                    let all_years;
                    let maxTime;
                    let sources = [];
                    
                    
                    
                    let cell_2 = document.createElement('td')
                    
                    let st_li = document.createElement('ul');
                    st_li.classList.add('no-bullets')
                    cell_2.appendChild(st_li);
                    
                    
                    for (st = 0; st < topics.length; st++) {

                        let li = document.createElement('li');
                        li.innerHTML = "<a href='" + "/IndicatorPublic/data-explorer" + "/" + topics[st].topic + "/'>" + topics[st].topic_name + "</a>"
                        
        
                        st_li.appendChild(li)
                    }
                    
                    row_i.appendChild(cell_2);      
                    
                    
                    let cell_3 = document.createElement('td')
                    let cell_4 = document.createElement('td')
                    let cell_5 = document.createElement('td')
                    let cell_6 = document.createElement('td')
                    
                    
                    for (let n = 0; n < indicators[i].Measures.length; n++) {
                        
                        
                        measurements.push(indicators[i].Measures[n].MeasurementType)
                        
                        
                        
                        for (let y = 0; y < indicators[i].Measures[n].AvailableGeoTypes.length; y++) {

                            geographies.push(indicators[i].Measures[n].AvailableGeoTypes[y])

                            
                            

                        }
                        
                        
                        let AvailableTimePeriodIDs = indicators[i].Measures[n].AvailableTimePeriodIDs;

                        
                        let end_periods = time_periods.filter(tp => AvailableTimePeriodIDs.includes(tp.TimePeriodID)).map(tp => tp.end_period);

                        
                        times.push(...end_periods);
                            
                        
                        sources.push(indicators[i].Measures[n].Sources)
                        
                    }
                    
                    
                    
                    
                    let unique_measurements = [...new Set(measurements)];
                    let ums = document.createElement('ul')
                    ums.classList.add('no-bullets')
                    cell_3.appendChild(ums);
                    for (m = 0; m < unique_measurements.length; m++) {
                        let li = document.createElement('li')
                        li.innerHTML = unique_measurements[m]
                        ums.appendChild(li)
                    }
                    
                    row_i.appendChild(cell_3);
                    
                    

                    const geos_order = ["Citywide", "Borough", "NYCKIDS2017", "NYCKIDS2019", "NYCKIDS2021", "UHF33", "UHF34", "UHF42", "Subboro", "CD", "CDTA", "NTA2010", "NTA2020"];
                    let unique_geographies = [...new Set(geographies)];
                    
                    
                    unique_geographies.sort(function(a, b){
                        return geos_order.indexOf(a) - geos_order.indexOf(b)
                    });
                    
                    let geobullets = document.createElement('ul')
                    geobullets.classList.add('no-bullets')
                    cell_4.appendChild(geobullets)
                    
                    

                    let pretty_unique_geographies = [...new Set(unique_geographies.map(geo => prettifyGeoType(geo)))]

                    for (l = 0; l < pretty_unique_geographies.length; l++) {
                        
                        let li = document.createElement('li')

                        
                        li.innerHTML = pretty_unique_geographies[l];
                        li.setAttribute("geo", pretty_unique_geographies[l]);
                        li.classList.add("btn", "btn-sm", "geobullets", pretty_unique_geographies[l])
                        
                        
                        
                        li.addEventListener('click', e => {
                            
                            toggle_button(e);
                        });
                        
                        geobullets.appendChild(li);
                        
                    }
                    
                    row_i.appendChild(cell_4)
                    
                    
                    maxTime = new Date(Math.max(...times));
                    cell_5.innerHTML = maxTime.getFullYear();
                    row_i.appendChild(cell_5)
                    
                    


                    
                    let unique_sources = [...new Set(sources)];
                    let usrc = document.createElement('ul')
                    usrc.classList.add('no-bullets')
                    cell_6.appendChild(usrc);

                    for (src = 0; src < unique_sources.length; src++) {
                        let li = document.createElement('li')
                        li.innerHTML = unique_sources[src]
                        usrc.appendChild(li)
                    }
                    
                    row_i.appendChild(cell_6);
                    
                    
                    document.getElementById('tablebody').appendChild(row_i) 
                } 
                
                
                initializeDataTables()
                
            }
            
            
            function initializeDataTables() {
                let table = new DataTable('#indicators', {
                    
                    scrollY: 600,
                    scrollX: true,
                    paging: false,
                    responsive: true,
                    fixedColumns: true
                });
            }
            
            
            
            
            function geobullet_filter(active_geo) {
                
                
                
                $('#indicators').DataTable().column(":contains(Geographies)").search(active_geo.join('|'), true, false, false).draw()
                
                

                if (active_geo.length > 0) {

                    
                    
                    let geo_buttons = document.querySelectorAll(active_geo.map(i => "." + i).toString());

                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.add("active");
                    }
                }

            }
            
            function toggle_button(e) {
                
                
                var button = e.target;
                
                if (button.classList.contains("active") == false) {
                    
                    
                    
                    
                    let geo_buttons = document.querySelectorAll("[geo=" + button.attributes.geo.value + "]");
                    
                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.add("active");
                    }
                    
                }
                else if (button.classList.contains("active") == true) {
                    
                    
                    
                    let geo_buttons = document.querySelectorAll("[geo=" + button.attributes.geo.value + "]");
                    
                    for (let i = 0; i < geo_buttons.length; i++) {
                        geo_buttons[i].classList.remove("active");
                    }
                    
                }
                
                let active = document.querySelectorAll("li.active");
                let active_geos = [];
                
                for (let i = 0; i < active.length; i++) {
                    
                    if (typeof active[i].attributes.geo != "undefined") {
                        
                        active_geos.push(active[i].attributes.geo.value);
                        
                    }
                }
                
                let active_geographies = [...new Set(active_geos)];
                
                geobullet_filter(active_geographies);
                
            }
            
            
            
            const prettifyGeoType = (GeoType) => {

                switch (GeoType) {

                    case 'NYCKIDS2017':
                        return 'NYCKIDS';

                    case 'NYCKIDS2019':
                        return 'NYCKIDS';

                    case 'NYCKIDS2021':
                        return 'NYCKIDS';

                    case 'CDTA2020':
                        return 'CDTA';

                    case 'NTA2010':
                        return 'NTA';

                    case 'NTA2020':
                        return 'NTA';

                    default:
                        return GeoType;

                }
            }

            
            function tableToCSV() {
 
                
                let csv_data = [];
             
                
                let rows = document.getElementsByTagName('tr');
                for (let i = 0; i < rows.length; i++) {
             
                    
                    let cols = rows[i].querySelectorAll('td,th');
             
                    
                    let csvrow = [];
                    for (let j = 0; j < cols.length; j++) {
             
                        
                        
                        let string = `"` + removeTags(cols[j].innerHTML) + `"`

                        csvrow.push(string); 
                    }
             
                    
                    csv_data.push(csvrow.join(","));
                }
                
                csv_data = csv_data.join('\n');
             
                 
                
                downloadCSVFile(csv_data);
            }

            
            function downloadCSVFile(csv_data) {
 
                
                
                CSVFile = new Blob([csv_data], { type: "text/csv" });
             
                
                
                let temp_link = document.createElement('a');
             
                
                temp_link.download = "EHDP-data-index.csv";
                let url = window.URL.createObjectURL(CSVFile);
                temp_link.href = url;
             
                
                temp_link.style.display = "none";
                document.body.appendChild(temp_link);
             
                
                temp_link.click();
                document.body.removeChild(temp_link);
            }

               
            function removeTags(str) {
                if ((str === null) || (str === ''))
                    return false;
                else
                    
                    str = str.toString().replace(/(<\/li>)/ig, '$1, ').replace(/(<\/li>, <\/ul>)/ig, '<\/li><\/ul>');

                
                
                
                return str.replace(/(<([^>]+)>)/ig, '');
            }
            
        </script><ul id="results"></ul>
  </main>
  
  <footer class="bg-black" id="global-footer" role="contentinfo">

  <h2 class="sr-only">
      Page Footer
  </h2>

  <div class="bg-opacity-black-25 text-white" id="nyc-footer">

      <div class="container py-3 d-none" id="languages">

          <div class="row fs-md d-print-none">

              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg mb-2 mb-lg-0">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
                  </ul>
              </div>
              <div class="col-6 col-md-4 col-lg">
                  <ul class="extensible-list">
                      <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
                      <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
                  </ul>
              </div>
          </div>

      </div>
      

      <div class="container py-3 d-print-none" id="languages">

          <ul class="fs-md" role="list">
              <li><a class="lang-select text-reset" href="#" data-lang="ar">عربى</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="bn">বাঙালি</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="zh-CN">中文</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="fr">français</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ht">Kreyòl Ayisyen</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ko">한국어</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="pl">Polskie</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ru">русский</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="es">Español</a></li>
              <li><a class="lang-select text-reset" href="#" data-lang="ur">اردو</a></li>
          </ul>

      </div>
      

      <hr class="opacity-10" aria-hidden="true">

      <div class="container py-3">
          <div class="row">
              <div class="col-md-6 col-lg-8 mb-3 mb-lg-0">
                  <nav class="row fs-md d-print-none" role="navigation">
                      <div class="col-lg mb-3 mb-lg-0">
                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/nyc-resources/agencies.page">
                                      <strong>Directory of City Agencies</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a858-nycnotify.nyc.gov/notifynyc/">
                                      <strong>Notify NYC</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/connect/mobile-applications.page">
                                      <strong>NYC Mobile Apps</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/home/contact-us.page">
                                      <strong>Contact NYC Government</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://a856-citystore.nyc.gov/">
                                      <strong>CityStore</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www.nyc.gov/nyc-resources/nyc-maps.page">
                                      <strong>Maps</strong>
                                  </a>
                              </li>
                          </ul>

                      </div>
                      

                      <div class="col-lg mb-3 mb-lg-0">

                          <ul class="extensible-list">
                              <li>
                                  <a class="text-reset"
                                      href="https://a127-ess.nyc.gov/psp/prdess/?cmd=login&languageCd=ENG&">
                                      <strong>City Employees</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset" href="https://www1.nyc.gov/connect/social-media.page">
                                      <strong>Stay Connected</strong>
                                  </a>
                              </li>
                              <li>
                                  <a class="text-reset"
                                      href="https://www1.nyc.gov/nyc-resources/resident-toolkit.page">
                                      <strong>Resident Toolkit</strong>
                                  </a>
                              </li>
                          </ul>
                      </div>
                      

                  </nav>
              </div>
              

              <div class="col-md-6 col-lg-4">

                  <a class="mb-2" href="https://www1.nyc.gov" title="Go to nyc.gov" target="_blank" rel="noopener noreferrer">
                      
                      <img class="mb-2" src="/IndicatorPublic/images/nyc-bubble-logo.svg" width="90" alt="NYC Logo">
                      <span class="sr-only">(opens in a new tab)</span>
                  </a>
                  <p class="fs-sm">© City of New York. 2022 All Rights Reserved,<br>NYC is a trademark and service mark of the City of New
                    York.</p>

                  <ul class="extensible-list horizontal fs-sm d-print-none">
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/privacy-policy.page">Privacy
                              Policy</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/home/terms-of-use.page">Terms
                              of Use</a>
                      </li>
                      <li>
                          <a class="text-reset" href="https://www1.nyc.gov/site/mopd/index.page"
                              title="Mayor's Office for People with Disabilities">
                              <span class="sr-only">Learn more about Digital Accessibility
                                from the Mayor's Office for People with Disabilities.</span>
                              <span class="fab fa-lg fa-accessible-icon"></span>
                          </a>
                      </li>
                  </ul>

              </div>
              

          </div>
          

      </div>
      

  </div>
  

</footer>
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>


<script>
  function googleTranslateElementInit() {
      new google.translate.TranslateElement({
          pageLanguage: 'en'
      }, 'google_translate_element');

      
      document.querySelectorAll("div[class^=VI] svg").forEach(e => e.outerHTML = "");
  }
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<script type="text/javascript" src="/IndicatorPublic/node_modules/lunr/lunr.min.e31525fdde83e931eb0275c0c066a35e4a1669e30dc0428ae2235fab90e8b446cb3c07e4e854b148fdf274dc6a0e00b0d5cff4675260e8bf21da3fbefbd0599a.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j&#43;&#43;&#43;9BZmg=="></script>

<script type="text/javascript" 
    src="/IndicatorPublic/js/main.552c9e0eb5b9f567a863809d88dfdb9dfc2e5062f1aa7ae313abbdf21a346fd773ae265f5ff618d8322e2b96b95be1b319c681eb0ea7b818a3c6485a84b6ad5a.js" 
    integrity="sha512-VSyeDrW59WeoY4CdiN/bnfwuUGLxqnrjE6u98ho0b9dzriZfX/YY2DIuK5a5W&#43;GzGcaB6w6nuBijxkhahLatWg=="></script>

<script type="text/javascript" 
    src="/IndicatorPublic/js/search.5332590626a6aa935d122347c2c99089e9a328a8e08882b46a430570150c8d2f238b3758b581c006ee488c927a70aac5a8f53761d32d922e08ad7172db6b3abf.js" 
    integrity="sha512-UzJZBiamqpNdEiNHwsmQiemjKKjgiIK0akMFcBUMjS8jizdYtYHABu5IjJJ6cKrFqPU3YdMtki4IrXFy22s6vw=="></script>
  
  
</body>
</html>
